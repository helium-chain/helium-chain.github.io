<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>å¸¸ç”¨å‡½æ•° | Helium</title>
<meta name="keywords" content="pgsql">
<meta name="description" content="pgSQL å¸¸ç”¨å‡½æ•°ç®€ä»‹ã€‚">
<meta name="author" content="helium">
<link rel="canonical" href="https://helium.github.io/posts/postgresql/function/">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="referrer" content="no-referrer-when-downgrade">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://helium.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://helium.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://helium.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://helium.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://helium.github.io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://helium.github.io/posts/postgresql/function/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono-nl.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css" />
    <style>
        body {
            font-family: "LXGW WenKai Lite", sans-serif;
            font-family: "LXGW WenKai Screen", sans-serif;
        }
    </style>
</head>
</html>

  

<meta property="og:title" content="å¸¸ç”¨å‡½æ•°" />
<meta property="og:description" content="pgSQL å¸¸ç”¨å‡½æ•°ç®€ä»‹ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://helium.github.io/posts/postgresql/function/" />
<meta property="og:image" content="https://helium.github.io/favicon-32x32.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-09-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-09-19T00:00:00+00:00" /><meta property="og:site_name" content="Helium" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://helium.github.io/favicon-32x32.png" />
<meta name="twitter:title" content="å¸¸ç”¨å‡½æ•°"/>
<meta name="twitter:description" content="pgSQL å¸¸ç”¨å‡½æ•°ç®€ä»‹ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Article",
      "item": "https://helium.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "PostgreSQL",
      "item": "https://helium.github.io/posts/postgresql/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "å¸¸ç”¨å‡½æ•°",
      "item": "https://helium.github.io/posts/postgresql/function/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "å¸¸ç”¨å‡½æ•°",
  "name": "å¸¸ç”¨å‡½æ•°",
  "description": "pgSQL å¸¸ç”¨å‡½æ•°ç®€ä»‹ã€‚",
  "keywords": [
    "pgsql"
  ],
  "articleBody": "æ•°å­¦å‡½æ•° ç®—æ•°è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° ç¤ºä¾‹ ç»“æœ + åŠ æ³• 2 + 3 5 - å‡æ³• 2 - 3 -1 * ä¹˜æ³• 2 * 3 6 / æ•´é™¤ 5 / 2 2 % æ¨¡é™¤ï¼ˆæ±‚ä½™ï¼‰ 5 % 4 1 ^ æ±‚å¹‚ï¼ˆå·¦è¾¹ä¸ºåº•æ•°ï¼Œå³è¾¹ä¸ºæŒ‡æ•°ï¼‰ 2.0 ^ 3.0 8 |/ å¹³æ–¹æ ¹ |/ 25.0 5 ||/ ç«‹æ–¹æ ¹ ||/ 27.0 3 ! é˜¶ä¹˜(æµ‹è¯•å¤±è´¥) 5 ! 120 !! é˜¶ä¹˜ï¼ˆå‰ç½®è¿ç®—ç¬¦ï¼‰(æµ‹è¯•å¤±è´¥) !! 5 120 @ ç»å¯¹å€¼(æ³¨æ„ç©ºæ ¼) @ -5.0 5 \u0026 æŒ‰ä½ä¸ 91 \u0026 15 11 | æŒ‰ä½æˆ– 32 | 3 35 # æŒ‰ä½å¼‚æˆ– 17 # 5 20 ~ æŒ‰ä½é ~1 -2 Â« æŒ‰ä½å·¦ç§» 1 Â« 4 16 Â» æŒ‰ä½å³ç§» 8 Â» 2 2 ç»å¯¹å€¼ abs(x)å‡½æ•°ç”¨äºè®¡ç®— x çš„ç»å¯¹å€¼ã€‚ SELECT abs(-17.4); -- | abs | -- |------| -- | 17.4 | å–æ•´ ceil(dp)/ceiling(dp)å‡½æ•°ç”¨äºè®¡ç®—å¤§äºæˆ–ç­‰äº dp çš„æœ€å°æ•´æ•°ã€‚ floor(dp)å‡½æ•°ç”¨äºè®¡ç®—å°äºæˆ–ç­‰äº dp çš„æœ€å¤§æ•´æ•°ã€‚ round(dp)å‡½æ•°å››èˆäº”å…¥ä¸ºæ•´æ•°ã€‚ trunc(dp)å‡½æ•°å‘é›¶å–æ•´ã€‚ SELECT ceil(-42.8), floor(-42.8), round(12.45), trunc(12.8); -- | ceil | floor | round | trunc | -- |------|-------|-------|-------| -- | -42 | -43 | 12 | 12 | å¦å¤–ï¼Œround(dp, s)å‡½æ•°å››èˆäº”å…¥åˆ° s ä½å°æ•°ã€‚ trunc(dp, s)å‡½æ•°æˆªæ–­åˆ° s ä½å°æ•°ã€‚ SELECT round(12.4565, 2), round(12.4564, 3); -- | round | round(1) | -- |-------|----------| -- | 12.46 | 12.456 | SELECT trunc(12.4565, 2), trunc(12.4564, 3); -- | trunc | trunc(1) | -- |-------|----------| -- | 12.45 | 12.456 | ä¹˜æ–¹ä¸å¼€æ–¹ power(a, b)å‡½æ•°è®¡ç®— a çš„ b æ¬¡æ–¹ã€‚ sqrt(dp)å‡½æ•°è®¡ç®— dp çš„å¹³æ–¹æ ¹ã€‚ cbrt(dp)å‡½æ•°è®¡ç®— dp çš„ç«‹æ–¹æ ¹ã€‚ SELECT power(2, 3), sqrt(4), cbrt(27); -- | power | sqrt | cbrt | -- |-------|------|--------------------| -- | 8 | 2 | 3.0000000000000004 | æŒ‡æ•°ä¸å¯¹æ•° exp(dp)å‡½æ•°è®¡ç®—ä»¥è‡ªç„¶å¸¸æ•° e ä¸ºåº•çš„æŒ‡æ•°ã€‚ ln(dp)å‡½æ•°è®¡ç®—ä»¥è‡ªç„¶å¸¸æ•° e ä¸ºåº•æ•°çš„å¯¹æ•°ã€‚ log(dp)/log10(dp)å‡½æ•°è®¡ç®—ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ã€‚ log(b, x)å‡½æ•°è®¡ç®—ä»¥ b ä¸ºåº•çš„å¯¹æ•°ã€‚ SELECT exp(1.0), ln(2.718281828459045), log(100), log(2.0, 16.0); -- | exp | ln | log | log(1) | -- |-------------------|--------------------|-----|--------------------| -- | 2.718281828459045 | 0.9999999999999999 | 2 | 4.0000000000000000 | æ•´æ•°å•†å’Œä½™æ•° div(y, x)å‡½æ•°è®¡ç®— y é™¤ä»¥ x çš„æ•´æ•°å•†ã€‚ mod(y, x)å‡½æ•°è®¡ç®— y é™¤ä»¥ x çš„ä½™æ•°ã€‚ SELECT div(9,4), mod(9,4); -- | div | mod | -- |-----|-----| -- | 2 | 1 | å¼§åº¦ä¸è§’åº¦ degrees(dp)å‡½æ•°ç”¨äºå°†å¼§åº¦è½¬ä¸ºè§’åº¦ã€‚ radians(dp)å‡½æ•°ç”¨äºå°†è§’åº¦è½¬å¼§åº¦ã€‚ SELECT degrees(1.57), radians(90.0); -- | degrees | radians | -- |-------------------|--------------------| -- | 89.95437383553924 | 1.5707963267948966 | å¸¸é‡ Ï€ pi()å‡½æ•°ç”¨äºè¿”å›å¸¸é‡â€œÏ€â€çš„å€¼ã€‚ SELECT pi(); -- | pi | -- |-------------------| -- | 3.141592653589793 | ç¬¦å·å‡½æ•° sign(dp)å‡½æ•°è¿”å›å‚æ•°çš„æ­£è´Ÿå·ï¼Œå¯èƒ½çš„ç»“æœä¸º-1ã€0ã€+1ã€‚ SELECT sign(-8.4); -- | sign | -- |------| -- | -1 | ç”Ÿæˆéšæœºæ•° PostgreSQL æä¾›äº†ç”¨äºè¿”å›ä¸€ä¸ªéšæœºæ•°çš„å‡½æ•° random()ã€‚ SELECT random(); -- | random | -- |---------------------| -- | 0.895738968003343 | random()è¿”å›ä¸€ä¸ªå¤§äºç­‰äº 0 å°äº 1 çš„éšæœºæ•°ï¼Œç±»å‹ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°ã€‚ setseed(dp)å‡½æ•°å¯ä»¥ä¸ºéšåä¸€æ¬¡è¿è¡Œçš„random()å‡½æ•°è®¾ç½®ç§å­æ•°ï¼ŒèŒƒå›´ï¼š-1.0 \u003c= dp \u003c= 1.0ã€‚ ç›¸åŒçš„ç§å­å¯ä»¥å¾—åˆ°ç›¸åŒçš„éšæœºæ•°ï¼Œç”¨äºé‡ç°ç»“æœã€‚ SELECT setseed(0); SELECT random(); -- | random | -- |-----------------------| -- | 3.907985046680551e-14 | å­—ç¬¦å‡½æ•° å­—ç¬¦ä¸²è¿æ¥ concat(str, â€¦)å‡½æ•°ç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¿½ç•¥å…¶ä¸­çš„ NULL å‚æ•°ã€‚ concat_ws(sep, str, â€¦)å‡½æ•°ä½¿ç”¨æŒ‡å®šåˆ†éš”ç¬¦ sep è¿æ¥å­—ç¬¦ä¸²ã€‚ SELECT concat(2, NULL, 22), concat_ws(' and ', 2, NULL, 22); -- | concat | concat_ws | -- |--------|-----------| -- | 222 | 2 and 22 | ä¸¤ä¸ªç«–æ ï¼ˆ||ï¼‰ä¹Ÿå¯ä»¥ç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ NULL å‚æ•°å°†ä¼šè¿”å› NULLã€‚ SELECT 'Post'||'greSQL', 'Post'||NULL||'greSQL'; -- | ?column? | ?column? | -- |------------|----------| -- | PostgreSQL | (null) | å­—ç¬¦ä¸ç¼–ç  ascii(string)å‡½æ•°è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII ç ã€‚å¯¹äº UTF8 è¿”å› Unicode ç ï¼›å¯¹äºå…¶ä»–å¤šå­—èŠ‚ç¼–ç ï¼Œå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ª ASCII å­—ç¬¦ã€‚ SELECT ascii('x'), ascii('å¥½'); -- | ascii | ascii(1) | -- |-------|----------| -- | 120 | 22909 | chr(int)å‡½æ•°è¿”å›ç¼–ç å¯¹åº”çš„å­—ç¬¦ã€‚ å¯¹äº UTF8ï¼Œå‚æ•°æŒ‡å®šçš„æ˜¯ Unicode ç ï¼› å¯¹äºå…¶ä»–å¤šå­—èŠ‚ç¼–ç ï¼Œå‚æ•°å¿…é¡»å¯¹åº”ä¸€ä¸ª ASCII å­—ç¬¦ã€‚ å‚æ•°ä¸å…è®¸ä¸º 0ï¼ˆç©ºå­—ç¬¦ï¼‰ï¼Œå› ä¸º text æ•°æ®ç±»å‹ä¸èƒ½å­˜å‚¨ç©ºå­—ç¬¦ã€‚ SELECT chr(120), chr(22909); -- | chr | chr(1) | -- |-----|--------| -- | x | å¥½ | å­—ç¬¦ä¸²é•¿åº¦ bit_length(string)å‡½æ•°ç”¨äºè®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„æ¯”ç‰¹æ•°ã€‚ length(string)ã€ char_length(string)ã€character_length(string)å‡½æ•°è®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„å­—ç¬¦æ•°ã€‚ octet_length(string) å‡½æ•°è®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„å­—èŠ‚æ•°ã€‚ SELECT bit_length('jose'), bit_length('joå¥½se'), bit_length('jo1se'); -- | bit_length | bit_length(1) | bit_length(2) | -- |------------|---------------|---------------| -- | 32 | 56 | 40 | SELECT length('jose'), length('joå¥½se'), length('jo1se'); -- | length | length(1) | length(2) | -- |------------|---------------|---------------| -- | 4 | 5 | 5 | SELECT char_length('jose'), char_length('joå¥½se'), char_length('jo1se'); -- | char_length| char_length(1)| char_length(2)| -- |------------|---------------|---------------| -- | 4 | 5 | 5 | SELECT character_length('jose'), character_length('joå¥½se'), character_length('jo1se'); -- | character_length | character_length(1) | character_length(2) | -- |------------------|---------------------|---------------------| -- | 4 | 5 | 5 | SELECT octet_length('jose'), octet_length('joå¥½se'), octet_length('jo1se'); -- | octet_length | octet_length(1) | octet_length(2) | -- |--------------|-----------------|-----------------| -- | 4 | 7 | 5 | å¤§å°å†™è½¬æ¢ lower(string)å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™å½¢å¼ã€‚ upper(string)å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å½¢å¼ã€‚ initcap(string)å‡½æ•°å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™ã€‚ SELECT lower('TOM'), upper('tom'), initcap('hi THOMAS'); -- | lower | upper | initcap | -- |-------|-------|-----------| -- | tom | TOM | Hi Thomas | å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢ substring(string [FROM] [for])å‡½æ•°ç”¨äºæå–ä»ä½ç½® FROM å¼€å§‹çš„ for ä¸ªå­—ç¬¦å­ä¸²ï¼Œä½ç½®ä» 1 å¼€å§‹è®¡ç®—ã€‚ substr(string, FROM [, count])çš„ä½œç”¨ç›¸åŒã€‚ SELECT substring('Thomas' FROM 2 for 3), substr('Thomas',2, 3); -- | substring | substr | -- |-----------|--------| -- | hom | hom | left(str, n)å‡½æ•°è¿”å›å­—ç¬¦ä¸²å·¦è¾¹çš„ n ä¸ªå­—ç¬¦ã€‚å¦‚æœ n ä¸ºè´Ÿæ•°ï¼Œè¿”å›é™¤äº†æœ€å|n|ä¸ªå­—ç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚ right(str, n)å‡½æ•°è¿”å›å­—ç¬¦ä¸²å³è¾¹çš„ n ä¸ªå­—ç¬¦ã€‚å¦‚æœ n ä¸ºè´Ÿæ•°ï¼Œè¿”å›é™¤äº†å·¦è¾¹|n|ä¸ªå­—ç¬¦ä¹‹å¤–çš„å­—ç¬¦ã€‚ SELECT left('abcde', 2), left('abcde', -2); -- | left | left(1) | -- |------|---------| -- | ab | abc | SELECT right('abcde', 2), right('abcde', -2); -- | right | right(1) | -- |-------|----------| -- | de | cde | substring(string FROM pattern)å‡½æ•°æå–åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ã€‚ substring(string FROM pattern for escape)å‡½æ•°æå–åŒ¹é… SQL æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ã€‚ SELECT substring('Thomas' FROM '...$'), substring('Thomas' FROM '%#\"o_a#\"_' for '#'); -- | substring | substring | -- |-----------|-----------| -- | mas | oma | regexp_match(string, pattern [, flags])å‡½æ•°è¿”å›åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­ä¸²ã€‚ SELECT regexp_match('foobarbequebaz', '(bar)(beque)'); -- |regexp_match| -- |------------| -- |{bar,beque} | regexp_matches(string, pattern [, flags])å‡½æ•°è¿”å›åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„æ‰€æœ‰å­ä¸²ï¼Œç»“æœæ˜¯ä¸€ä¸ªé›†åˆã€‚ SELECT regexp_matches('foobarbequebaz', 'ba.', 'g'); -- | regexp_matches | -- |----------------| -- | {bar} | -- | {baz} | position(substring in string)è¿”å›å­ä¸²çš„ä½ç½®ã€‚ strpos(string, substring)å‡½æ•°çš„ä½œç”¨ç›¸åŒï¼Œä½†æ˜¯å‚æ•°é¡ºåºç›¸åã€‚ SELECT position('om' in 'Thomas'), strpos('Thomas', 'om'); -- | position | strpos | -- |----------|--------| -- | 3 | 3 | starts_with(string, prefix)å‡½æ•°åˆ¤æ–­ string æ˜¯å¦ä»¥ prefix å¼€å¤´ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› trueï¼›å¦åˆ™è¿”å›falseã€‚ SELECT starts_with('alphabet', 'alph'), starts_with('alphabet', 'alxh'); -- |starts_with|starts_with(1)| -- |-----------|--------------| -- | t | f | replace(string, FROM, to)å‡½æ•°å°†å­—ç¬¦ä¸² string ä¸­çš„ FROM å­ä¸²æ›¿æ¢ä¸º to å­ä¸²ã€‚ regexp_replace(string, pattern, replacement [, flags])å‡½æ•°å­—ç¬¦ä¸² string ä¸­åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼pattern çš„å­ä¸²æ›¿æ¢ä¸º replacementã€‚ SELECT replace('abcdefabcdef', 'cd', 'XX'), regexp_replace('Thomas','.[mN]a.', 'M'); -- | replace | regexp_replace | -- |--------------|----------------| -- | abXXefabXXef | ThM | translate(string , FROM , to)å‡½æ•°å°†å­—ç¬¦ä¸² string ä¸­å‡ºç°åœ¨ FROM ä¸­çš„å­—ç¬¦ä¸²æ›¿æ¢æˆ to ä¸­ç›¸åº”ä½ç½®çš„å­—ç¬¦ã€‚å¦‚æœ FROM é•¿åº¦å¤§äº toï¼Œåœ¨ to ä¸­æ²¡æœ‰å¯¹åº”å€¼çš„å­—ç¬¦å°†è¢«åˆ é™¤ã€‚ SELECT translate('12345', '143', 'ax'); -- | translate | -- |-----------| -- | a2x5 | overlay(string placing substring FROM [for])å‡½æ•°ä½¿ç”¨ substring è¦†ç›–å­—ç¬¦ä¸² string ä¸­ä»FROM å¼€å§‹çš„ for ä¸ªå­—ç¬¦ã€‚ SELECT overlay('Txxxxas' placing 'hom' FROM 2 for 4); -- | overlay | -- |---------| -- | Thomas | æˆªæ–­ä¸å¡«å…… trim([leading | trailing | both] [characters] FROM string)å‡½æ•°ä»å­—ç¬¦ä¸²çš„å¼€å¤´ï¼ˆleadingï¼‰ã€ç»“å°¾ï¼ˆtrailingï¼‰æˆ–è€…ä¸¤ç«¯ï¼ˆbothï¼‰åˆ é™¤ç”±æŒ‡å®šå­—ç¬¦ charactersï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰ç»„æˆçš„æœ€é•¿å­ä¸²ã€‚ trim([leading | trailing | both] [FROM] string [, characters])å‡½æ•°çš„ä½œç”¨ç›¸åŒã€‚ SELECT trim(both 'xyz' FROM 'yxTomxx'); -- | btrim | -- |-------| -- | Tom | btrim(string [, characters])å‡½æ•°çš„ä½œç”¨ä¸ä¸Šé¢ trim å‡½æ•°çš„ both é€‰é¡¹ç›¸åŒã€‚ ltrim(string [,characters])ä¸ä¸Šé¢ trim å‡½æ•°çš„ leading é€‰é¡¹ç›¸åŒã€‚ rtrim(string [, characters])å‡½æ•°ä¸Šé¢ trim å‡½æ•°çš„trailing é€‰é¡¹ç›¸åŒã€‚ SELECT btrim('yxTomxx', 'xyz'), ltrim('yxTomxx', 'xyz'), rtrim('yxTomxx','xyz'); -- | btrim | ltrim | rtrim | -- |-------|-------|-------| -- | Tom | Tomxx | yxTom | lpad(string, length [, fill ])å‡½æ•°åœ¨ string å·¦ä¾§ä½¿ç”¨ fill ä¸­çš„å­—ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰è¿›è¡Œå¡«å……ï¼Œç›´åˆ°é•¿åº¦ä¸º lengthã€‚å¦‚æœ string é•¿åº¦å¤§äº lengthï¼Œä»å³ä¾§æˆªæ–­åˆ°é•¿åº¦ lengthã€‚ rpad(string, length [, fill ])å‡½æ•°åœ¨ string å³ä¾§ä½¿ç”¨ fill ä¸­çš„å­—ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰è¿›è¡Œå¡«å……ï¼Œç›´åˆ°é•¿åº¦ä¸º lengthã€‚å¦‚æœ string é•¿åº¦å¤§äº lengthï¼Œä»å³ä¾§æˆªæ–­åˆ°é•¿åº¦ lengthã€‚ repeat(string, number)å‡½æ•°å°†å­—ç¬¦ä¸² string é‡å¤ N æ¬¡ã€‚ SELECT lpad('hi', 5, 'xy'), rpad('hi', 5, 'xy'), repeat('Pg', 4); -- | lpad | rpad | repeat | -- |-------|-------|----------| -- | xyxhi | hixyx | PgPgPgPg | å­—ç¬¦ä¸²æ ¼å¼åŒ– format(formatstr , formatarg)ç”¨äºå¯¹å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œç±»ä¼¼äº C è¯­è¨€ä¸­çš„ sprintf å‡½æ•°ã€‚ SELECT format('Hello %s, %1$s', 'World'); -- | format | -- |--------------------| -- | Hello World, World | MD5 å€¼ md5(string)å‡½æ•°ç”¨äºè¿”å›åå…­è¿›åˆ¶æ ¼å¼çš„ MD5 å€¼ã€‚ SELECT md5('abc'); -- | md5 | -- |----------------------------------| -- | 900150983cd24fb0d6963f7d28e17f72 | å­—ç¬¦ä¸²æ‹†åˆ† regexp_split_to_table(string, pattern[, flags])å‡½æ•°ç”¨äºæ‹†åˆ†å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ POSIX æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºåˆ†éš”ç¬¦ã€‚å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ text é›†åˆã€‚ SELECT regexp_split_to_table('hello world', '\\s+'); -- | regexp_split_to_table | -- |-----------------------| -- | hello | -- | world | split_part(string, delimiter, field)å‡½æ•°ä½¿ç”¨ delimiter æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æŒ‡å®šé¡¹ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ã€‚ SELECT split_part('abc~@~def~@~ghi', '~@~', 2); -- | split_part | -- |------------| -- | def | å­—ç¬¦ä¸²åè½¬ reverse(str)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸²åè½¬ã€‚ SELECT reverse('é˜¿è¨1çš„sé»„é‡‘å¡'); -- | reverse | -- |--------------| -- | å¡é‡‘é»„sçš„1è¨é˜¿ | æ—¥æœŸå‡½æ•° è®¡ç®—æ—¶é—´é—´éš” age(timestamp, timestamp)å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„é—´éš”ï¼Œ age(timestamp)å‡½æ•°ç”¨äºè®¡ç®—å½“å‰æ—¥æœŸçš„å‡Œæ™¨ 12 ç‚¹åˆ°è¯¥æ—¶é—´ç‚¹ä¹‹é—´çš„é—´éš”ã€‚ SELECT age(timestamp '2020-12-31', timestamp '2020-01-01'), age(timestamp '2020-01-01'); -- | age | age(1) | -- |---------------|----------------------| -- |11 mons 30 days|4 years 8 mons 19 days| è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯ date_part(text, timestamp)å’Œ extract(field FROM timestamp)å‡½æ•°ç”¨äºè·å–æ—¥æœŸæ—¶é—´ä¸­çš„æŸä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚å¹´ä»½ã€æœˆä»½ã€å°æ—¶ç­‰ã€‚ date_part(text, interval)å’Œ extract(field FROM interval)å‡½æ•°ç”¨äºè·å–æ—¶é—´é—´éš”ä¸­çš„æŸä¸€éƒ¨åˆ†ã€‚ SELECT date_part( 'year', TIMESTAMP '2020-03-03 20:38:40' ), EXTRACT ( YEAR FROM TIMESTAMP '2020-03-03 20:38:40' ), date_part( 'month', INTERVAL '1 years 5 months' ), EXTRACT ( MONTH FROM INTERVAL '1 years 5 months' ); -- |date_part|date_part|date_part|date_part| -- |---------|---------|---------|---------| -- | 2020 | 2020 | 5 | 5 | é€šè¿‡è¿”å›å­—æ®µçš„æ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼Œ extract å‡½æ•°å®é™…ä¸Šä¹Ÿæ˜¯è°ƒç”¨äº† date_part å‡½æ•°ï¼Œåªæ˜¯å‚æ•°æ–¹å¼ä¸åŒã€‚ è¿™ä¸¤ä¸ªå‡½æ•°æ”¯æŒè·å–çš„ä¿¡æ¯åŒ…æ‹¬ï¼š centuryï¼Œä¸–çºªï¼› dayï¼Œå¯¹äº timestampï¼Œè¿”å›æœˆä»½ä¸­çš„ç¬¬å‡ å¤©ï¼›å¯¹äº intervalï¼Œè¿”å›å¤©æ•°ï¼› decadeï¼Œå¹´ä»½é™¤ä»¥ 10ï¼› dowï¼Œæ˜ŸæœŸå¤©ï¼ˆ0ï¼‰åˆ°æ˜ŸæœŸå…­ï¼ˆ6ï¼‰ï¼› doyï¼Œä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼Œï¼ˆ1 - 365/366ï¼‰ï¼› epochï¼Œå¯¹äº timestamp WITH time zoneï¼Œè¿”å› 1970-01-01 00:00:00 UTC åˆ°è¯¥æ—¶é—´çš„ç§’æ•°ï¼›å¯¹äº date å’Œ timestampï¼Œå›æœ¬åœ°æ—¶é—´çš„ 1970-01-01 00:00:00 åˆ°è¯¥æ—¶é—´çš„ç§’æ•°ï¼›å¯¹äºintervalï¼Œè¿”å›ä»¥ç§’æ•°è¡¨ç¤ºçš„è¯¥æ—¶é—´é—´éš”ï¼› hourï¼Œå°æ—¶ï¼ˆ1 - 23ï¼‰ï¼› isodowï¼Œ ISO 8601 æ ‡å‡†ä¸­çš„æ˜ŸæœŸä¸€ï¼ˆ1ï¼‰åˆ°æ˜ŸæœŸå¤©ï¼ˆ7ï¼‰ï¼› isoyearï¼Œ ISO 8601 æ ‡å‡†å®šä¹‰çš„æ—¥æœŸæ‰€åœ¨çš„å¹´ä»½ã€‚æ¯å¹´ä»åŒ…å« 1 æœˆ 4 æ—¥çš„æ˜ŸæœŸä¸€å¼€å§‹ï¼Œ2017å¹´ 01 æœˆ 01 æ—¥å±äº 2016 å¹´ï¼› microsecondsï¼Œå¾®ç§’ï¼ŒåŒ…å«ç§’å’Œå°æ•°ç§’åœ¨å†…çš„æ•°å­—ä¹˜ä»¥ 1000000ï¼› millenniumï¼Œåƒå¹´ï¼› millisecondsï¼Œæ¯«ç§’ï¼ŒåŒ…å«ç§’å’Œå°æ•°ç§’åœ¨å†…çš„æ•°å­—ä¹˜ä»¥ 1000ï¼› minuteï¼Œåˆ†é’Ÿï¼Œï¼ˆ 0 - 59ï¼‰ï¼› monthï¼Œæœˆä»½ï¼› quarterï¼Œå­£åº¦ï¼Œï¼ˆ 1 - 4ï¼‰ï¼› secondï¼Œç§’æ•°ï¼ŒåŒ…å«å°æ•°ç§’ï¼› timezoneï¼Œ UTC æ—¶åŒºï¼Œå•ä½ä¸ºç§’ï¼› timezone_hourï¼Œ UTC æ—¶åŒºä¸­çš„å°æ—¶éƒ¨åˆ†ï¼› timezone_minuteï¼Œ UTC æ—¶åŒºä¸­çš„åˆ†é’Ÿéƒ¨åˆ†ï¼› weekï¼ŒISO 8601 æ ‡å‡†ä¸­çš„æ˜ŸæœŸå‡ ï¼Œæ¯å¹´ä»ç¬¬ä¸€ä¸ªæ˜ŸæœŸå››æ‰€åœ¨çš„ä¸€å‘¨å¼€å§‹ï¼› yearï¼Œå¹´ä»½ã€‚ æˆªæ–­æ—¥æœŸ/æ—¶é—´ date_trunc(field, source [, time_zone ])å‡½æ•°ç”¨äºå°† timestampã€ timestamp WITH time zoneã€dateã€ time æˆ–è€… interval æ•°æ®æˆªæ–­åˆ°æŒ‡å®šçš„ç²¾åº¦ã€‚ SELECT date_trunc( 'year', TIMESTAMP '2020-03-03 20:38:40' ), date_trunc( 'day', timestamptz '2020-03-03 20:38:40+00', 'Asia/Shanghai' ), date_trunc( 'hour', INTERVAL '2 days 3 hours 40 minutes' ); -- | date_trunc | date_trunc(1) | date_trunc(2) | -- | -------------------|----------------------|---------------| -- | 2020-01-01 00:00:00|2020-03-03 16:00:00+00|2 days 03:00:00| date_trunc å‡½æ•°æ”¯æŒä»¥ä¸‹æˆªæ–­ç²¾åº¦ï¼š microseconds milliseconds second minute hour day week month quarter year decade century millennium åˆ›å»ºæ—¥æœŸ/æ—¶é—´ make_date(year int, month int, day int)å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ—¥æœŸï¼š SELECT make_date(2022, 03, 15); -- | make_date | -- |-----------| -- | 2022-03-15| make_interval(years int DEFAULT 0, months int DEFAULT 0, weeks int DEFAULT 0, days int DEFAULT 0, hours int DEFAULT 0, mins int DEFAULT 0, secs double precision DEFAULT 0.0)å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ç­‰ä¿¡æ¯åˆ›å»ºä¸€ä¸ªæ—¶é—´é—´éš”ã€‚ SELECT make_interval(days =\u003e 1, hours =\u003e 5); -- | make_interval | -- |---------------| -- | 1 day 05:00:00| make_time(hour int, min int, sec double precision)å‡½æ•°é€šè¿‡æŒ‡å®šå°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°åˆ›å»ºä¸€ä¸ªæ—¶é—´ã€‚ SELECT make_time(1, 2, 30.5); -- | make_time | -- |------------| -- | 01:02:30.5 | make_timestamp(year int, month int, day int, hour int, min int, sec double precision) å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’åˆ›å»ºä¸€ä¸ªæ—¶é—´æˆ³ã€‚ SELECT make_timestamp(2020, 3, 15, 8, 20, 23.5); -- | make_timestamp | -- |----------------------| -- | 2020-03-15 08:20:23.5| make_timestamptz(year int, month int, day int, hour int, min int, sec double precision, [ timezone text ])å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’åˆ›å»ºä¸€ä¸ªå¸¦æ—¶åŒºçš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šæ—¶åŒºï¼Œä½¿ç”¨å½“å‰æ—¶åŒºã€‚ SELECT make_timestamptz(2020, 3, 15, 8, 20, 23.5); -- | make_timestamptz | -- |-------------------------| -- | 2020-03-15 08:20:23.5+08| to_timestamp(double precision)å‡½æ•°å°† Unix æ—¶é—´æˆ³ï¼ˆè‡ªä» 1970-01-01 00:00:00+00 ä»¥æ¥çš„ç§’æ•°ï¼‰è½¬æ¢ä¸º PostgreSQL æ—¶é—´æˆ³æ•°æ®ã€‚ SELECT to_timestamp(1583152349); -- | to_timestamp | -- |-----------------------| -- | 2020-03-02 12:32:29+00| è·å–ç³»ç»Ÿæ—¶é—´ PostgreSQL æä¾›äº†å¤§é‡ç”¨äºè·å–ç³»ç»Ÿå½“å‰æ—¥æœŸå’Œæ—¶é—´çš„å‡½æ•°ï¼Œä¾‹å¦‚ current_dateã€ current_timeã€current_timestampã€ clock_timestamp()ã€ localtimestampã€ now()ã€ statement_timestamp()ç­‰ã€‚ åŒæ—¶è¿˜æ”¯æŒå»¶è¿Ÿè¯­å¥æ‰§è¡Œçš„ pg_sleep()ç­‰å‡½æ•°ï¼Œå…·ä½“å¯ä»¥å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚ æ—¶åŒºè½¬æ¢ AT TIME ZONE è¿ç®—ç¬¦ç”¨äºå°† timestamp without time zoneã€ timestamp WITH time zone ä»¥åŠ time WITH time zone è½¬æ¢ä¸ºæŒ‡å®šæ—¶åŒºä¸­çš„æ—¶é—´ã€‚ SELECT TIMESTAMP '2020-03-03 20:38:40' AT TIME ZONE'Asia/Shanghai', TIMESTAMP WITH TIME ZONE'2020-03-03 20:38:40-05:00' AT TIME ZONE'Asia/Shanghai', TIME WITH TIME ZONE'20:38:40-05:00' AT TIME ZONE'Asia/Shanghai'; -- | timezone | timezone | timezone | -- |-----------------------|-------------------|-----------| -- | 2020-03-03 12:38:40+00|2020-03-04 09:38:40|09:38:40+08| timezone(zone, timestamp)å‡½æ•°ç­‰ä»·äº SQL æ ‡å‡†ä¸­çš„ timestamp AT TIME ZONE zoneã€‚ è¿˜æœ‰ä¸€äº›å…³äºæ—¥æœŸæ—¶é—´çš„å‡½æ•°ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ ç±»å‹è½¬æ¢ CAST å‡½æ•° CAST ( expr AS data_type )å‡½æ•°ç”¨äºå°† expr è½¬æ¢ä¸º data_type æ•°æ®ç±»å‹ã€‚ PostgreSQL ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆ::ï¼‰ä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š SELECT CAST ('15' AS INTEGER), '2020-03-15'::DATE; -- | int4|date | -- |-----|----------| -- | 15 |2020-03-15| å¦‚æœæ•°æ®æ— æ³•è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»å‹ï¼Œå°†ä¼šè¿”å›é”™è¯¯ã€‚ SELECT CAST ('A15' AS INTEGER); --SQL é”™è¯¯ [22P02]: é”™è¯¯: æ— æ•ˆçš„ç±»å‹ integer è¾“å…¥è¯­æ³•: \"A15\" ä½ç½®ï¼š 14 to_date å‡½æ•° to_date(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸² string æŒ‰ç…§ format æ ¼å¼è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ã€‚ SELECT to_date('2020/03/15','YYYY/MM/DD'); -- | to_date | -- |-----------| -- | 2020-03-15| å…¶ä¸­ï¼Œ YYYY ä»£è¡¨å››ä½æ•°çš„å¹´ï¼› MM ä»£è¡¨ä¸¤ä½æ•°çš„æœˆï¼› DD ä»£è¡¨ä¸¤ä½æ•°çš„æ—¥ã€‚æ›´å¤šçš„æ ¼å¼é€‰é¡¹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ to_timestamp å‡½æ•° to_timestamp(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸² string æŒ‰ç…§ format æ ¼å¼è½¬æ¢ä¸º timestampWITH time zone ç±»å‹ã€‚ SELECT to_timestamp('2020-03-15 19:08:00.678', 'YYYY-MM-DD HH24:MI:SS.MS'); -- | to_timestamp | -- |---------------------------| -- | 2020-03-15 19:08:00.678+08| å…¶ä¸­ï¼Œ HH24 è¡¨ç¤º 24 å°æ—¶åˆ¶çš„å°æ—¶ï¼› MI è¡¨ç¤ºåˆ†é’Ÿï¼› SS è¡¨ç¤ºç§’æ•°ï¼› MS è¡¨ç¤ºæ¯«ç§’æ•°ã€‚ to_char å‡½æ•° to_char(expre, format)å‡½æ•°ç”¨äºå°† timestampã€ intervalã€ integerã€ double precision æˆ–è€… numericç±»å‹çš„å€¼è½¬æ¢ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚ SELECT to_char(current_timestamp, 'HH24:MI:SS'), to_char(interval '5h 12m 30s', 'HH12:MI:SS'), to_char(-125.8, '999D99'); -- | to_char |to_char |to_char| -- |---------|--------|-------| -- | 21:30:22|05:12:30|-125.80| to_number å‡½æ•° to_number(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚ SELECT to_number('ï¿¥125.8', 'L999D9'); -- | to_number| -- |----------| -- | 125.8 | éšå¼ç±»å‹è½¬æ¢ é™¤äº†æ˜¾å¼ä½¿ç”¨ç±»å‹è½¬æ¢å‡½æ•°æˆ–è¿ç®—ç¬¦ä¹‹å¤–ï¼Œå¾ˆå¤šæ—¶å€™ PostgreSQL ä¼šè‡ªåŠ¨æ‰§è¡Œæ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ã€‚ä¾‹å¦‚ï¼š SELECT 1+'2', 'todo: '||current_timestamp; -- | ?column?|?column? | -- |---------|----------------------------------| -- | 3 |todo:2020-03-09 21:49:49.370621+08| ",
  "wordCount" : "1871",
  "inLanguage": "zh",
  "image": "https://helium.github.io/favicon-32x32.png","datePublished": "2024-09-19T00:00:00Z",
  "dateModified": "2024-09-19T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "helium"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://helium.github.io/posts/postgresql/function/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Helium",
    "logo": {
      "@type": "ImageObject",
      "url": "https://helium.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://helium.github.io/" accesskey="h" title="Blog (Alt + H)">
                <img src="https://helium.github.io/helium.png" alt="" aria-label="logo"
                    height="35">Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://helium.github.io/" title="ä¸»é¡µ">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://helium.github.io/posts" title="æ–‡ç« ">
                    <span>Article</span>
                </a>
            </li>
            <li>
                <a href="https://helium.github.io/archives" title="æ—¶é—´è½´">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://helium.github.io/tags/" title="æ ‡ç­¾">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="https://helium.github.io/search/" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://helium.github.io/support" title="æ‰“èµ">
                    <span>ğŸ«¶Help</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">


<article class="post" autonumbering>
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://helium.github.io/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://helium.github.io/posts/">Article</a>&nbsp;Â»&nbsp;<a href="https://helium.github.io/posts/postgresql/">PostgreSQL</a></div>
    <h1 class="post-title entry-hint-parent">
      å¸¸ç”¨å‡½æ•°
    </h1>
    <div class="post-meta">










<span class="x-post-meta-item"><svg t="1720837714681" class="icon" viewBox="0 0 1084 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7520" width="200" height="200"><path d="M123.47509 1023.984942a123.565437 123.565437 0 0 1-123.505206-123.32451V243.863302A123.565437 123.565437 0 0 1 123.47509 120.568908h171.630374V26.06529a26.050232 26.050232 0 0 1 52.070349 0v94.503618h377.592848V26.06529a26.050232 26.050232 0 0 1 52.100464 0v94.503618h183.797189A123.565437 123.565437 0 0 1 1084.171519 243.863302v656.79713A123.565437 123.565437 0 0 1 960.666314 1023.984942H123.47509z m-71.404741-123.32451A71.434857 71.434857 0 0 0 123.47509 971.974825h837.191224a71.434857 71.434857 0 0 0 71.404741-71.314393V442.326922l-946.361273-3.824716a25.598494 25.598494 0 0 1-5.84248-0.692665l-27.796953-6.444798v469.295689zM123.47509 172.579025a71.434857 71.434857 0 0 0-71.404741 71.284277v149.736133l27.796953-6.444797a26.080348 26.080348 0 0 1 5.902712-0.662549l946.301041 3.824716V243.863302a71.404741 71.404741 0 0 0-71.404741-71.284277h-180.183284l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.261043 26.261043 0 0 1-23.520499-14.786895l-6.173754-12.859479H350.819834l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.230928 26.230928 0 0 1-23.520499-14.786895l-6.173755-12.859479H123.47509z m156.150814 578.827128a26.050232 26.050232 0 0 1-26.050232-25.990001c0-14.335157 11.68496-26.020116 26.050232-26.020116h521.697312c14.365273 0 26.050232 11.68496 26.050233 26.020116a26.050232 26.050232 0 0 1-26.050233 25.990001H279.625904z" fill="#3D3F42" p-id="7521"></path></svg><span>2024-09-19</span></span>&nbsp;<span class="x-post-meta-item"><svg t="1720839329181" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14106" width="200" height="200"><path d="M699.270662 190.485379c-0.411369 0-0.821715 0.011256-1.227967 0.032746H507.034407a23.041786 23.041786 0 0 0-1.221828-0.031723c-12.779048 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.360975 23.141046 23.140023 23.141046v0.032746h193.458083v-0.032746c12.780071 0 23.141046-10.359952 23.141047-23.141046 0-12.780071-10.360975-23.140023-23.141047-23.140023zM979.215516 724.005508c0-142.090159-115.186416-257.277598-257.277598-257.277598-72.245418 0-137.532353 29.777187-184.262654 77.725223l45.868677 31.474852c36.227086-33.873482 84.882226-54.617945 138.393977-54.617945 111.945605 0 202.696492 90.750887 202.696492 202.695468h-43.01263l70.331835 104.289228 70.331835-104.289228H979.215516z" fill="" p-id="14107"></path><path d="M748.885664 588.843132c0-14.881942-12.06785-26.945699-26.947746-26.945698-14.883989 0-26.947745 12.063757-26.947745 26.945698v135.164423c0 14.879895 12.063757 26.945699 26.947745 26.945699h107.786889c14.881942 0 26.945699-12.063757 26.945698-26.945699s-12.063757-26.945699-26.945698-26.945699h-80.839143V588.843132zM721.937918 926.702c-111.947651 0-202.696492-90.74884-202.696492-202.696492 0-0.144286 0.004093-0.285502 0.004094-0.429788h43.004443l-70.330812-104.289228-70.331835 104.289228h43.075051c0 0.144286-0.00307 0.285502-0.00307 0.429788 0 142.091182 115.187439 257.279644 257.278621 257.279645 72.241324 0 137.530306-29.77821 184.260607-77.727269l-45.86663-31.474852c-36.227086 33.873482-84.884272 54.618968-138.393977 54.618968zM694.633039 423.38066c-1.354857-11.487635-11.120268-20.400632-22.972201-20.400632H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.138999 0 12.781094 10.359952 23.141046 23.140023 23.141047H596.949252c30.209022-13.81668 63.104223-22.76754 97.683787-25.879414zM438.548616 623.143333H206.362486c-12.780071 0-23.140023 10.358929-23.140023 23.140023 0 12.780071 10.359952 23.140023 23.140023 23.140023h219.956598a298.463626 298.463626 0 0 1 12.229532-46.280046zM506.934123 513.062192H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.359952 23.140023 23.140023 23.140023H469.936487a302.241672 302.241672 0 0 1 36.997636-46.279023z" fill="" p-id="14108"></path><path d="M442.765661 835.277778a298.531164 298.531164 0 0 1-14.365173-46.150087H146.542052v-0.065491c-33.036417 0-59.81941-26.78197-59.81941-59.819411V329.36031h704.907545v100.905154a298.561863 298.561863 0 0 1 46.150086 14.996552V194.619536h-0.162706c0-53.422723-43.307342-96.728018-96.730065-96.728018h-68.89409V84.418668c0-33.037441-26.782993-59.81941-59.81941-59.81941v-0.361227h-18.87079v0.032745c-33.038464 0-59.820434 26.78197-59.820433 59.819411 0 0.109494 0.008186 0.218988 0.008186 0.328481h-0.339738v13.47285H345.203648V84.418668c0-33.037441-26.782993-59.81941-59.819411-59.81941v-0.361227h-18.872836v0.032745c-33.036417 0-59.81941 26.78197-59.81941 59.819411 0 0.109494 0.007163 0.218988 0.008186 0.328481h-0.339737v13.47285h-69.189826c-53.4217 0-96.729042 43.306318-96.729041 96.728018 0 1.701758 0.045025 3.39226 0.132006 5.071505v533.785166a98.051153 98.051153 0 0 0-0.132006 5.071506c0 53.4217 43.307342 96.728018 96.729041 96.728018v0.001023h305.595047zM86.723665 204.056466c0-33.037441 26.782993-59.81941 59.819411-59.819411 0.044002 0 0.086981 0.00307 0.130983 0.00307v-0.068561h105.968473V94.874811h0.032746a22.807449 22.807449 0 0 1-0.032746-1.215688c0-12.779048 10.360975-23.140023 23.140023-23.140023s23.140023 10.360975 23.140023 23.140023c0 0.408299-0.010233 0.812505-0.031722 1.215688h0.031722v49.297776h280.508696V94.874811h0.032745a22.807449 22.807449 0 0 1-0.032745-1.215688c0-12.779048 10.361999-23.140023 23.140023-23.140023 12.780071 0 23.141046 10.360975 23.141046 23.140023 0 0.408299-0.011256 0.812505-0.032746 1.215688h0.032746v49.297776h106.10048v0.065492c33.035394 0 59.818387 26.780947 59.818387 59.81941h0.130983V283.080264H86.723665v-79.023798z" fill="" p-id="14109"></path></svg><span>2024-09-19</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select: text;">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" style="user-select: text;"></path>
    <polyline points="14 2 14 8 20 8" style="user-select: text;"></polyline>
    <line x1="16" y1="13" x2="8" y2="13" style="user-select: text;"></line>
    <line x1="16" y1="17" x2="8" y2="17" style="user-select: text;"></line>
    <polyline points="10 9 9 9 8 9" style="user-select: text;"></polyline>
</svg><span>1871å­—</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="12" r="9"></circle>
    <polyline points="12 7 12 12 15 15"></polyline>
</svg><span>9åˆ†é’Ÿ</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="7" r="4"></circle>
    <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
</svg><span>helium</span></span>
      <span class="x-post-meta-item">
        &nbsp;<svg t="1720840393161" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18680" width="200" height="200"><path d="M995.125144 559.61812l-415.998603-415.998602A52.986489 52.986489 0 0 0 541.413335 127.99957H338.847348c-3.166656-26.559911-9.286635-51.046495-17.999939-71.333094C299.734146 7.333309 271.154242 0 256.00096 0c-13.939953 0-40.439864 6.339979-61.259794 48.806503-10.473298 21.366595-17.946606 48.966502-21.573261 79.193067H53.334974a53.393154 53.393154 0 0 0-53.333154 53.333154v360.078791a52.986489 52.986489 0 0 0 15.619948 37.713206l415.998602 415.998603a53.333154 53.333154 0 0 0 75.426413 0l26.286579-26.293245 26.286578 26.293245a53.426487 53.426487 0 0 0 16.719944 11.333295 21.333262 21.333262 0 0 0 36.079879 11.293295l382.705381-382.705381a53.399821 53.399821 0 0 0 0-75.426413z m-762.070774-491.998347C241.494342 50.373164 250.667645 42.666523 256.00096 42.666523c5.99998 0 16.573278 9.639968 25.646581 30.806564 6.493312 15.159949 11.333295 33.999886 14.146619 54.526483H216.16776c3.206656-23.419921 9.013303-44.359851 16.88661-60.41313z m243.819181 897.330319a10.666631 10.666631 0 0 1-15.079949 0l-415.998603-415.998603A10.573298 10.573298 0 0 1 42.668343 541.411515V181.332724a10.666631 10.666631 0 0 1 10.666631-10.666631h245.332509c0 47.853173-10.373298 92.15969-27.066575 115.632945-5.926647 8.326639-16.566611 14.186619-22.306592 16.113279C204.041135 314.752276 170.667913 356.218803 170.667913 405.331972c0 58.813136 47.853173 106.666308 106.666309 106.666308s106.666308-47.853173 106.666308-106.666308c0-47.086508-30.666564-87.139707-73.079754-101.246327C330.060711 272.705751 341.334007 223.692582 341.334007 170.666093h72.079758a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603a10.666631 10.666631 0 0 1 0 15.079949zM341.334007 405.331972a63.999785 63.999785 0 1 1-63.999785-63.999785 64.073118 64.073118 0 0 1 63.999785 63.999785z m263.539114 559.61812a10.666631 10.666631 0 0 1-15.079949 0L563.499927 938.663513l303.625647-303.61898a53.399821 53.399821 0 0 0 0-75.426413L478.16688 170.666093h63.246455a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603c0.239999 0.239999 0.466665 0.486665 0.666664 0.746664l0.086667 0.106666a10.666631 10.666631 0 0 1 0 13.373289l-0.086667 0.106666c-0.213333 0.259999-0.439999 0.506665-0.666664 0.746664z" fill="#5C5C66" p-id="18681"></path></svg>
        <ul class="post-tags-meta" style="display: inline-block;font-size: 14px;">
            <a href="https://helium.github.io/tags/pgsql/" target="_blank" rel="noopener">Pgsql</a>
        </ul>
      </span>
      
      <span id="busuanzi_container_page_pv" class="x-post-meta-item">
        &nbsp;<svg t="1720844685710" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27237" width="200" height="200"><path d="M739.754667 574.08c-121.386667 45.610667-208.469333 169.813333-208.64 316.16 0 33.408 4.693333 65.493333 13.141333 95.914667H94.122667c-26.453333-43.52-41.685333-91.946667-41.685334-143.189334 0-185.173333 192.896-335.104 430.805334-335.104 96.256 0 184.832 24.746667 256.512 66.218667z m-280.490667-114.986667a214.869333 214.869333 0 0 1-214.869333-215.04A215.04 215.04 0 0 1 459.264 28.842667a215.04 215.04 0 0 1 215.04 215.210666 215.04 215.04 0 0 1-215.04 215.04zM974.506667 641.28c9.856 0 17.834667 7.466667 17.834666 16.64v59.989333c-0.341333 8.789333-7.850667 15.786667-17.28 16.085334-9.856 0.341333-18.176-6.826667-18.517333-16.085334v-20.053333l-99.114667 91.093333-0.256 0.256a18.474667 18.474667 0 0 1-14.848 4.352h-0.768a18.176 18.176 0 0 1-9.344-4.608l-0.938666-0.981333-85.930667-80.042667-123.562667 115.072a18.773333 18.773333 0 0 1-25.216 0 15.786667 15.786667 0 0 1 0-23.466666l136.149334-126.848 0.725333-0.597334a18.645333 18.645333 0 0 1 24.362667 0.512l87.253333 81.237334 86.058667-79.232h-21.248c-9.386667-0.298667-16.938667-7.338667-17.28-16.085334-0.341333-9.173333 7.381333-16.896 17.28-17.237333h64.64z m-367.146667 240h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v72.192a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042667-16.042666v-72.192c0-8.874667 7.210667-16.042667 16.042667-16.042667z m110.805333-106.666667h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v178.858667a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042666v-178.858667c0-8.874667 7.168-16.042667 16.042666-16.042667z m106.538667 80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v99.413333a16.042667 16.042667 0 0 1-16.042667 16.042667H824.746667a16.042667 16.042667 0 0 1-16.042667-16.042667v-99.413333c0-8.874667 7.168-16.042667 16.042667-16.042667z m110.165333-80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v179.413333a16.042667 16.042667 0 0 1-16.042667 16.042667h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042667v-179.413333c0-8.874667 7.210667-16.042667 16.042666-16.042667z" fill="#999999" p-id="27238"></path></svg>
        <span id="busuanzi_value_page_pv"></span>
      </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e6%95%b0%e5%ad%a6%e5%87%bd%e6%95%b0" aria-label="æ•°å­¦å‡½æ•°">æ•°å­¦å‡½æ•°</a><ul>
                            
                    <li>
                        <a href="#%e7%ae%97%e6%95%b0%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="ç®—æ•°è¿ç®—ç¬¦">ç®—æ•°è¿ç®—ç¬¦</a></li>
                    <li>
                        <a href="#%e7%bb%9d%e5%af%b9%e5%80%bc" aria-label="ç»å¯¹å€¼">ç»å¯¹å€¼</a></li>
                    <li>
                        <a href="#%e5%8f%96%e6%95%b4" aria-label="å–æ•´">å–æ•´</a></li>
                    <li>
                        <a href="#%e4%b9%98%e6%96%b9%e4%b8%8e%e5%bc%80%e6%96%b9" aria-label="ä¹˜æ–¹ä¸å¼€æ–¹">ä¹˜æ–¹ä¸å¼€æ–¹</a></li>
                    <li>
                        <a href="#%e6%8c%87%e6%95%b0%e4%b8%8e%e5%af%b9%e6%95%b0" aria-label="æŒ‡æ•°ä¸å¯¹æ•°">æŒ‡æ•°ä¸å¯¹æ•°</a></li>
                    <li>
                        <a href="#%e6%95%b4%e6%95%b0%e5%95%86%e5%92%8c%e4%bd%99%e6%95%b0" aria-label="æ•´æ•°å•†å’Œä½™æ•°">æ•´æ•°å•†å’Œä½™æ•°</a></li>
                    <li>
                        <a href="#%e5%bc%a7%e5%ba%a6%e4%b8%8e%e8%a7%92%e5%ba%a6" aria-label="å¼§åº¦ä¸è§’åº¦">å¼§åº¦ä¸è§’åº¦</a></li>
                    <li>
                        <a href="#%e5%b8%b8%e9%87%8f-%cf%80" aria-label="å¸¸é‡ Ï€">å¸¸é‡ Ï€</a></li>
                    <li>
                        <a href="#%e7%ac%a6%e5%8f%b7%e5%87%bd%e6%95%b0" aria-label="ç¬¦å·å‡½æ•°">ç¬¦å·å‡½æ•°</a></li>
                    <li>
                        <a href="#%e7%94%9f%e6%88%90%e9%9a%8f%e6%9c%ba%e6%95%b0" aria-label="ç”Ÿæˆéšæœºæ•°">ç”Ÿæˆéšæœºæ•°</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e5%87%bd%e6%95%b0" aria-label="å­—ç¬¦å‡½æ•°">å­—ç¬¦å‡½æ•°</a><ul>
                            
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bf%9e%e6%8e%a5" aria-label="å­—ç¬¦ä¸²è¿æ¥">å­—ç¬¦ä¸²è¿æ¥</a></li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%8e%e7%bc%96%e7%a0%81" aria-label="å­—ç¬¦ä¸ç¼–ç ">å­—ç¬¦ä¸ç¼–ç </a></li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e9%95%bf%e5%ba%a6" aria-label="å­—ç¬¦ä¸²é•¿åº¦">å­—ç¬¦ä¸²é•¿åº¦</a></li>
                    <li>
                        <a href="#%e5%a4%a7%e5%b0%8f%e5%86%99%e8%bd%ac%e6%8d%a2" aria-label="å¤§å°å†™è½¬æ¢">å¤§å°å†™è½¬æ¢</a></li>
                    <li>
                        <a href="#%e5%ad%90%e4%b8%b2%e6%9f%a5%e6%89%be%e4%b8%8e%e6%9b%bf%e6%8d%a2" aria-label="å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢">å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢</a></li>
                    <li>
                        <a href="#%e6%88%aa%e6%96%ad%e4%b8%8e%e5%a1%ab%e5%85%85" aria-label="æˆªæ–­ä¸å¡«å……">æˆªæ–­ä¸å¡«å……</a></li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="å­—ç¬¦ä¸²æ ¼å¼åŒ–">å­—ç¬¦ä¸²æ ¼å¼åŒ–</a></li>
                    <li>
                        <a href="#md5-%e5%80%bc" aria-label="MD5 å€¼">MD5 å€¼</a></li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8b%86%e5%88%86" aria-label="å­—ç¬¦ä¸²æ‹†åˆ†">å­—ç¬¦ä¸²æ‹†åˆ†</a></li>
                    <li>
                        <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%8d%e8%bd%ac" aria-label="å­—ç¬¦ä¸²åè½¬">å­—ç¬¦ä¸²åè½¬</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%97%a5%e6%9c%9f%e5%87%bd%e6%95%b0" aria-label="æ—¥æœŸå‡½æ•°">æ—¥æœŸå‡½æ•°</a><ul>
                            
                    <li>
                        <a href="#%e8%ae%a1%e7%ae%97%e6%97%b6%e9%97%b4%e9%97%b4%e9%9a%94" aria-label="è®¡ç®—æ—¶é—´é—´éš”">è®¡ç®—æ—¶é—´é—´éš”</a></li>
                    <li>
                        <a href="#%e8%8e%b7%e5%8f%96%e6%97%b6%e9%97%b4%e4%b8%ad%e7%9a%84%e4%bf%a1%e6%81%af" aria-label="è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯">è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯</a></li>
                    <li>
                        <a href="#%e6%88%aa%e6%96%ad%e6%97%a5%e6%9c%9f%e6%97%b6%e9%97%b4" aria-label="æˆªæ–­æ—¥æœŸ/æ—¶é—´">æˆªæ–­æ—¥æœŸ/æ—¶é—´</a></li>
                    <li>
                        <a href="#%e5%88%9b%e5%bb%ba%e6%97%a5%e6%9c%9f%e6%97%b6%e9%97%b4" aria-label="åˆ›å»ºæ—¥æœŸ/æ—¶é—´">åˆ›å»ºæ—¥æœŸ/æ—¶é—´</a></li>
                    <li>
                        <a href="#%e8%8e%b7%e5%8f%96%e7%b3%bb%e7%bb%9f%e6%97%b6%e9%97%b4" aria-label="è·å–ç³»ç»Ÿæ—¶é—´">è·å–ç³»ç»Ÿæ—¶é—´</a></li>
                    <li>
                        <a href="#%e6%97%b6%e5%8c%ba%e8%bd%ac%e6%8d%a2" aria-label="æ—¶åŒºè½¬æ¢">æ—¶åŒºè½¬æ¢</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</a><ul>
                            
                    <li>
                        <a href="#cast-%e5%87%bd%e6%95%b0" aria-label="CAST å‡½æ•°">CAST å‡½æ•°</a></li>
                    <li>
                        <a href="#to_date-%e5%87%bd%e6%95%b0" aria-label="to_date å‡½æ•°">to_date å‡½æ•°</a></li>
                    <li>
                        <a href="#to_timestamp-%e5%87%bd%e6%95%b0" aria-label="to_timestamp å‡½æ•°">to_timestamp å‡½æ•°</a></li>
                    <li>
                        <a href="#to_char-%e5%87%bd%e6%95%b0" aria-label="to_char å‡½æ•°">to_char å‡½æ•°</a></li>
                    <li>
                        <a href="#to_number-%e5%87%bd%e6%95%b0" aria-label="to_number å‡½æ•°">to_number å‡½æ•°</a></li>
                    <li>
                        <a href="#%e9%9a%90%e5%bc%8f%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="éšå¼ç±»å‹è½¬æ¢">éšå¼ç±»å‹è½¬æ¢</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><h2 id="æ•°å­¦å‡½æ•°">æ•°å­¦å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#æ•°å­¦å‡½æ•°">#</a></h2>
<h3 id="ç®—æ•°è¿ç®—ç¬¦">ç®—æ•°è¿ç®—ç¬¦<a hidden class="anchor" aria-hidden="true" href="#ç®—æ•°è¿ç®—ç¬¦">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center">æè¿°</th>
<th style="text-align:center">ç¤ºä¾‹</th>
<th style="text-align:center">ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">åŠ æ³•</td>
<td style="text-align:center">2 + 3</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">å‡æ³•</td>
<td style="text-align:center">2 - 3</td>
<td style="text-align:center">-1</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">ä¹˜æ³•</td>
<td style="text-align:center">2 * 3</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">æ•´é™¤</td>
<td style="text-align:center">5 / 2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">æ¨¡é™¤ï¼ˆæ±‚ä½™ï¼‰</td>
<td style="text-align:center">5 % 4</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">æ±‚å¹‚ï¼ˆå·¦è¾¹ä¸ºåº•æ•°ï¼Œå³è¾¹ä¸ºæŒ‡æ•°ï¼‰</td>
<td style="text-align:center">2.0 ^ 3.0</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">|/</td>
<td style="text-align:center">å¹³æ–¹æ ¹</td>
<td style="text-align:center">|/ 25.0</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">||/</td>
<td style="text-align:center">ç«‹æ–¹æ ¹</td>
<td style="text-align:center">||/ 27.0</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">!</td>
<td style="text-align:center">é˜¶ä¹˜(æµ‹è¯•å¤±è´¥)</td>
<td style="text-align:center">5 !</td>
<td style="text-align:center">120</td>
</tr>
<tr>
<td style="text-align:center">!!</td>
<td style="text-align:center">é˜¶ä¹˜ï¼ˆå‰ç½®è¿ç®—ç¬¦ï¼‰(æµ‹è¯•å¤±è´¥)</td>
<td style="text-align:center">!! 5</td>
<td style="text-align:center">120</td>
</tr>
<tr>
<td style="text-align:center">@</td>
<td style="text-align:center">ç»å¯¹å€¼(æ³¨æ„ç©ºæ ¼)</td>
<td style="text-align:center">@ -5.0</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">&amp;</td>
<td style="text-align:center">æŒ‰ä½ä¸</td>
<td style="text-align:center">91 &amp; 15</td>
<td style="text-align:center">11</td>
</tr>
<tr>
<td style="text-align:center">|</td>
<td style="text-align:center">æŒ‰ä½æˆ–</td>
<td style="text-align:center">32 | 3</td>
<td style="text-align:center">35</td>
</tr>
<tr>
<td style="text-align:center">#</td>
<td style="text-align:center">æŒ‰ä½å¼‚æˆ–</td>
<td style="text-align:center">17 # 5</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">~</td>
<td style="text-align:center">æŒ‰ä½é</td>
<td style="text-align:center">~1</td>
<td style="text-align:center">-2</td>
</tr>
<tr>
<td style="text-align:center">&laquo;</td>
<td style="text-align:center">æŒ‰ä½å·¦ç§»</td>
<td style="text-align:center">1 &laquo; 4</td>
<td style="text-align:center">16</td>
</tr>
<tr>
<td style="text-align:center">&raquo;</td>
<td style="text-align:center">æŒ‰ä½å³ç§»</td>
<td style="text-align:center">8 &raquo; 2</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<h3 id="ç»å¯¹å€¼">ç»å¯¹å€¼<a hidden class="anchor" aria-hidden="true" href="#ç»å¯¹å€¼">#</a></h3>
<ol>
<li>abs(x)å‡½æ•°ç”¨äºè®¡ç®— x çš„ç»å¯¹å€¼ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">17</span><span class="p">.</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | abs  |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 17.4 |
</span></span></span></code></pre></div><h3 id="å–æ•´">å–æ•´<a hidden class="anchor" aria-hidden="true" href="#å–æ•´">#</a></h3>
<ol>
<li>ceil(dp)/ceiling(dp)å‡½æ•°ç”¨äºè®¡ç®—å¤§äºæˆ–ç­‰äº dp çš„æœ€å°æ•´æ•°ã€‚</li>
<li>floor(dp)å‡½æ•°ç”¨äºè®¡ç®—å°äºæˆ–ç­‰äº dp çš„æœ€å¤§æ•´æ•°ã€‚</li>
<li>round(dp)å‡½æ•°å››èˆäº”å…¥ä¸ºæ•´æ•°ã€‚</li>
<li>trunc(dp)å‡½æ•°å‘é›¶å–æ•´ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">ceil</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="p">.</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="p">.</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">45</span><span class="p">),</span><span class="w"> </span><span class="n">trunc</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">8</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | ceil | floor | round | trunc |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------|-------|-------|-------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | -42  | -43   | 12    | 12    |
</span></span></span></code></pre></div><ol start="5">
<li>å¦å¤–ï¼Œround(dp, s)å‡½æ•°å››èˆäº”å…¥åˆ° s ä½å°æ•°ã€‚</li>
<li>trunc(dp, s)å‡½æ•°æˆªæ–­åˆ° s ä½å°æ•°ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">4565</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">4564</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | round | round(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 12.46 | 12.456   |
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">trunc</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">4565</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">trunc</span><span class="p">(</span><span class="mi">12</span><span class="p">.</span><span class="mi">4564</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | trunc | trunc(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 12.45 | 12.456   |
</span></span></span></code></pre></div><h3 id="ä¹˜æ–¹ä¸å¼€æ–¹">ä¹˜æ–¹ä¸å¼€æ–¹<a hidden class="anchor" aria-hidden="true" href="#ä¹˜æ–¹ä¸å¼€æ–¹">#</a></h3>
<ol>
<li>power(a, b)å‡½æ•°è®¡ç®— a çš„ b æ¬¡æ–¹ã€‚</li>
<li>sqrt(dp)å‡½æ•°è®¡ç®— dp çš„å¹³æ–¹æ ¹ã€‚</li>
<li>cbrt(dp)å‡½æ•°è®¡ç®— dp çš„ç«‹æ–¹æ ¹ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">cbrt</span><span class="p">(</span><span class="mi">27</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | power | sqrt | cbrt               |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|------|--------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 8     | 2    | 3.0000000000000004 |
</span></span></span></code></pre></div><h3 id="æŒ‡æ•°ä¸å¯¹æ•°">æŒ‡æ•°ä¸å¯¹æ•°<a hidden class="anchor" aria-hidden="true" href="#æŒ‡æ•°ä¸å¯¹æ•°">#</a></h3>
<ol>
<li>exp(dp)å‡½æ•°è®¡ç®—ä»¥è‡ªç„¶å¸¸æ•° e ä¸ºåº•çš„æŒ‡æ•°ã€‚</li>
<li>ln(dp)å‡½æ•°è®¡ç®—ä»¥è‡ªç„¶å¸¸æ•° e ä¸ºåº•æ•°çš„å¯¹æ•°ã€‚</li>
<li>log(dp)/log10(dp)å‡½æ•°è®¡ç®—ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ã€‚</li>
<li>log(b, x)å‡½æ•°è®¡ç®—ä»¥ b ä¸ºåº•çš„å¯¹æ•°ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">ln</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">718281828459045</span><span class="p">),</span><span class="w"> </span><span class="n">log</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | exp               | ln                 | log | log(1)             |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------------------|--------------------|-----|--------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2.718281828459045 | 0.9999999999999999 | 2   | 4.0000000000000000 |
</span></span></span></code></pre></div><h3 id="æ•´æ•°å•†å’Œä½™æ•°">æ•´æ•°å•†å’Œä½™æ•°<a hidden class="anchor" aria-hidden="true" href="#æ•´æ•°å•†å’Œä½™æ•°">#</a></h3>
<ol>
<li>div(y, x)å‡½æ•°è®¡ç®— y é™¤ä»¥ x çš„æ•´æ•°å•†ã€‚</li>
<li>mod(y, x)å‡½æ•°è®¡ç®— y é™¤ä»¥ x çš„ä½™æ•°ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">div</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="k">mod</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | div | mod |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----|-----|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2   | 1   |
</span></span></span></code></pre></div><h3 id="å¼§åº¦ä¸è§’åº¦">å¼§åº¦ä¸è§’åº¦<a hidden class="anchor" aria-hidden="true" href="#å¼§åº¦ä¸è§’åº¦">#</a></h3>
<ol>
<li>degrees(dp)å‡½æ•°ç”¨äºå°†å¼§åº¦è½¬ä¸ºè§’åº¦ã€‚</li>
<li>radians(dp)å‡½æ•°ç”¨äºå°†è§’åº¦è½¬å¼§åº¦ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">degrees</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">57</span><span class="p">),</span><span class="w"> </span><span class="n">radians</span><span class="p">(</span><span class="mi">90</span><span class="p">.</span><span class="mi">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | degrees           | radians            |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------------------|--------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 89.95437383553924 | 1.5707963267948966 |
</span></span></span></code></pre></div><h3 id="å¸¸é‡-Ï€">å¸¸é‡ Ï€<a hidden class="anchor" aria-hidden="true" href="#å¸¸é‡-Ï€">#</a></h3>
<ol>
<li>pi()å‡½æ•°ç”¨äºè¿”å›å¸¸é‡â€œÏ€â€çš„å€¼ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">pi</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | pi                |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 3.141592653589793 |
</span></span></span></code></pre></div><h3 id="ç¬¦å·å‡½æ•°">ç¬¦å·å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#ç¬¦å·å‡½æ•°">#</a></h3>
<ol>
<li>sign(dp)å‡½æ•°è¿”å›å‚æ•°çš„æ­£è´Ÿå·ï¼Œå¯èƒ½çš„ç»“æœä¸º-1ã€0ã€+1ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">sign</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">.</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | sign |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | -1   |
</span></span></span></code></pre></div><h3 id="ç”Ÿæˆéšæœºæ•°">ç”Ÿæˆéšæœºæ•°<a hidden class="anchor" aria-hidden="true" href="#ç”Ÿæˆéšæœºæ•°">#</a></h3>
<ol>
<li>PostgreSQL æä¾›äº†ç”¨äºè¿”å›ä¸€ä¸ªéšæœºæ•°çš„å‡½æ•° random()ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">random</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | random              |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 0.895738968003343   |
</span></span></span></code></pre></div><ol start="2">
<li>random()è¿”å›ä¸€ä¸ªå¤§äºç­‰äº 0 å°äº 1 çš„éšæœºæ•°ï¼Œç±»å‹ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</li>
<li>setseed(dp)å‡½æ•°å¯ä»¥ä¸ºéšåä¸€æ¬¡è¿è¡Œçš„random()å‡½æ•°è®¾ç½®ç§å­æ•°ï¼ŒèŒƒå›´ï¼š-1.0 &lt;= dp &lt;= 1.0ã€‚
<ul>
<li>ç›¸åŒçš„ç§å­å¯ä»¥å¾—åˆ°ç›¸åŒçš„éšæœºæ•°ï¼Œç”¨äºé‡ç°ç»“æœã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">setseed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">random</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | random                |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 3.907985046680551e-14 |
</span></span></span></code></pre></div><h2 id="å­—ç¬¦å‡½æ•°">å­—ç¬¦å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦å‡½æ•°">#</a></h2>
<h3 id="å­—ç¬¦ä¸²è¿æ¥">å­—ç¬¦ä¸²è¿æ¥<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²è¿æ¥">#</a></h3>
<ol>
<li>concat(str, â€¦)å‡½æ•°ç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¿½ç•¥å…¶ä¸­çš„ NULL å‚æ•°ã€‚</li>
<li>concat_ws(sep, str, â€¦)å‡½æ•°ä½¿ç”¨æŒ‡å®šåˆ†éš”ç¬¦ sep è¿æ¥å­—ç¬¦ä¸²ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">concat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">),</span><span class="w"> </span><span class="n">concat_ws</span><span class="p">(</span><span class="s1">&#39; and &#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | concat | concat_ws |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |--------|-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 222    | 2 and 22  |
</span></span></span></code></pre></div><ol start="3">
<li>ä¸¤ä¸ªç«–æ ï¼ˆ||ï¼‰ä¹Ÿå¯ä»¥ç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ NULL å‚æ•°å°†ä¼šè¿”å› NULLã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="s1">&#39;Post&#39;</span><span class="o">||</span><span class="s1">&#39;greSQL&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Post&#39;</span><span class="o">||</span><span class="k">NULL</span><span class="o">||</span><span class="s1">&#39;greSQL&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | ?column?   | ?column? |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | PostgreSQL | (null)   |
</span></span></span></code></pre></div><h3 id="å­—ç¬¦ä¸ç¼–ç ">å­—ç¬¦ä¸ç¼–ç <a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸ç¼–ç ">#</a></h3>
<ol>
<li>ascii(string)å‡½æ•°è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII ç ã€‚å¯¹äº UTF8 è¿”å› Unicode ç ï¼›å¯¹äºå…¶ä»–å¤šå­—èŠ‚ç¼–ç ï¼Œå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ª ASCII å­—ç¬¦ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">ascii</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">ascii</span><span class="p">(</span><span class="s1">&#39;å¥½&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | ascii | ascii(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 120   | 22909    |
</span></span></span></code></pre></div><ol start="2">
<li>chr(int)å‡½æ•°è¿”å›ç¼–ç å¯¹åº”çš„å­—ç¬¦ã€‚
<ul>
<li>å¯¹äº UTF8ï¼Œå‚æ•°æŒ‡å®šçš„æ˜¯ Unicode ç ï¼›</li>
<li>å¯¹äºå…¶ä»–å¤šå­—èŠ‚ç¼–ç ï¼Œå‚æ•°å¿…é¡»å¯¹åº”ä¸€ä¸ª ASCII å­—ç¬¦ã€‚</li>
<li>å‚æ•°ä¸å…è®¸ä¸º 0ï¼ˆç©ºå­—ç¬¦ï¼‰ï¼Œå› ä¸º text æ•°æ®ç±»å‹ä¸èƒ½å­˜å‚¨ç©ºå­—ç¬¦ã€‚</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">chr</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span><span class="w"> </span><span class="n">chr</span><span class="p">(</span><span class="mi">22909</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | chr | chr(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----|--------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | x   | å¥½      |
</span></span></span></code></pre></div><h3 id="å­—ç¬¦ä¸²é•¿åº¦">å­—ç¬¦ä¸²é•¿åº¦<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²é•¿åº¦">#</a></h3>
<ol>
<li>bit_length(string)å‡½æ•°ç”¨äºè®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„æ¯”ç‰¹æ•°ã€‚</li>
<li>length(string)ã€ char_length(string)ã€character_length(string)å‡½æ•°è®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„å­—ç¬¦æ•°ã€‚</li>
<li>octet_length(string) å‡½æ•°è®¡ç®—å­—ç¬¦ä¸²åŒ…å«çš„å­—èŠ‚æ•°ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">bit_length</span><span class="p">(</span><span class="s1">&#39;jose&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">bit_length</span><span class="p">(</span><span class="s1">&#39;joå¥½se&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">bit_length</span><span class="p">(</span><span class="s1">&#39;jo1se&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | bit_length | bit_length(1) | bit_length(2) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|---------------|---------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |     32     |      56       |      40       |
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;jose&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;joå¥½se&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">length</span><span class="p">(</span><span class="s1">&#39;jo1se&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | length     | length(1)     | length(2)     |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|---------------|---------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |     4      |      5        |      5        |
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">char_length</span><span class="p">(</span><span class="s1">&#39;jose&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">char_length</span><span class="p">(</span><span class="s1">&#39;joå¥½se&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">char_length</span><span class="p">(</span><span class="s1">&#39;jo1se&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | char_length| char_length(1)| char_length(2)|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|---------------|---------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |     4      |      5        |      5        |
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">character_length</span><span class="p">(</span><span class="s1">&#39;jose&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">character_length</span><span class="p">(</span><span class="s1">&#39;joå¥½se&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">character_length</span><span class="p">(</span><span class="s1">&#39;jo1se&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | character_length | character_length(1) | character_length(2) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------------|---------------------|---------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |        4         |         5           |         5           |
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">octet_length</span><span class="p">(</span><span class="s1">&#39;jose&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">octet_length</span><span class="p">(</span><span class="s1">&#39;joå¥½se&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">octet_length</span><span class="p">(</span><span class="s1">&#39;jo1se&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | octet_length | octet_length(1) | octet_length(2) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |--------------|-----------------|-----------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |     4        |      7          |      5          |
</span></span></span></code></pre></div><h3 id="å¤§å°å†™è½¬æ¢">å¤§å°å†™è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#å¤§å°å†™è½¬æ¢">#</a></h3>
<ol>
<li>lower(string)å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™å½¢å¼ã€‚</li>
<li>upper(string)å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å½¢å¼ã€‚</li>
<li>initcap(string)å‡½æ•°å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å­—æ¯å°å†™ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">lower</span><span class="p">(</span><span class="s1">&#39;TOM&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">upper</span><span class="p">(</span><span class="s1">&#39;tom&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">initcap</span><span class="p">(</span><span class="s1">&#39;hi THOMAS&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | lower | upper | initcap   |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|-------|-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | tom   | TOM   | Hi Thomas |
</span></span></span></code></pre></div><h3 id="å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢">å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢<a hidden class="anchor" aria-hidden="true" href="#å­ä¸²æŸ¥æ‰¾ä¸æ›¿æ¢">#</a></h3>
<ol>
<li>substring(string [FROM] [for])å‡½æ•°ç”¨äºæå–ä»ä½ç½® FROM å¼€å§‹çš„ for ä¸ªå­—ç¬¦å­ä¸²ï¼Œä½ç½®ä» 1 å¼€å§‹è®¡ç®—ã€‚</li>
<li>substr(string, FROM [, count])çš„ä½œç”¨ç›¸åŒã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">substr</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | substring | substr |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|--------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | hom       | hom    |
</span></span></span></code></pre></div><ol start="3">
<li>left(str, n)å‡½æ•°è¿”å›å­—ç¬¦ä¸²å·¦è¾¹çš„ n ä¸ªå­—ç¬¦ã€‚å¦‚æœ n ä¸ºè´Ÿæ•°ï¼Œè¿”å›é™¤äº†æœ€å|n|ä¸ªå­—ç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚</li>
<li>right(str, n)å‡½æ•°è¿”å›å­—ç¬¦ä¸²å³è¾¹çš„ n ä¸ªå­—ç¬¦ã€‚å¦‚æœ n ä¸ºè´Ÿæ•°ï¼Œè¿”å›é™¤äº†å·¦è¾¹|n|ä¸ªå­—ç¬¦ä¹‹å¤–çš„å­—ç¬¦ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">left</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="k">left</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | left | left(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------|---------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | ab   | abc     |
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">right</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="k">right</span><span class="p">(</span><span class="s1">&#39;abcde&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | right | right(1) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | de    | cde      |
</span></span></span></code></pre></div><ol start="5">
<li>substring(string FROM pattern)å‡½æ•°æå–åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ã€‚</li>
<li>substring(string FROM pattern for escape)å‡½æ•°æå–åŒ¹é… SQL æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;...$&#39;</span><span class="p">),</span><span class="w"> </span><span class="k">substring</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;%#&#34;o_a#&#34;_&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;#&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | substring | substring |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | mas       | oma       |
</span></span></span></code></pre></div><ol start="7">
<li>regexp_match(string, pattern [, flags])å‡½æ•°è¿”å›åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­ä¸²ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">regexp_match</span><span class="p">(</span><span class="s1">&#39;foobarbequebaz&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(bar)(beque)&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- |regexp_match|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |{bar,beque} |
</span></span></span></code></pre></div><ol start="8">
<li>regexp_matches(string, pattern [, flags])å‡½æ•°è¿”å›åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼çš„æ‰€æœ‰å­ä¸²ï¼Œç»“æœæ˜¯ä¸€ä¸ªé›†åˆã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">regexp_matches</span><span class="p">(</span><span class="s1">&#39;foobarbequebaz&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ba.&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;g&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | regexp_matches |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |----------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | {bar}          |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | {baz}          |
</span></span></span></code></pre></div><ol start="9">
<li>position(substring in string)è¿”å›å­ä¸²çš„ä½ç½®ã€‚</li>
<li>strpos(string, substring)å‡½æ•°çš„ä½œç”¨ç›¸åŒï¼Œä½†æ˜¯å‚æ•°é¡ºåºç›¸åã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">position</span><span class="p">(</span><span class="s1">&#39;om&#39;</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;Thomas&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">strpos</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;om&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | position | strpos |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |----------|--------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 3        | 3      |
</span></span></span></code></pre></div><ol start="11">
<li>starts_with(string, prefix)å‡½æ•°åˆ¤æ–­ string æ˜¯å¦ä»¥ prefix å¼€å¤´ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› trueï¼›å¦åˆ™è¿”å›falseã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">starts_with</span><span class="p">(</span><span class="s1">&#39;alphabet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;alph&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">starts_with</span><span class="p">(</span><span class="s1">&#39;alphabet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;alxh&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- |starts_with|starts_with(1)|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|--------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | t         | f            |
</span></span></span></code></pre></div><ol start="12">
<li>replace(string, FROM, to)å‡½æ•°å°†å­—ç¬¦ä¸² string ä¸­çš„ FROM å­ä¸²æ›¿æ¢ä¸º to å­ä¸²ã€‚</li>
<li>regexp_replace(string, pattern, replacement [, flags])å‡½æ•°å­—ç¬¦ä¸² string ä¸­åŒ¹é… POSIX æ­£åˆ™è¡¨è¾¾å¼pattern çš„å­ä¸²æ›¿æ¢ä¸º replacementã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">replace</span><span class="p">(</span><span class="s1">&#39;abcdefabcdef&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cd&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;XX&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">regexp_replace</span><span class="p">(</span><span class="s1">&#39;Thomas&#39;</span><span class="p">,</span><span class="s1">&#39;.[mN]a.&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;M&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | replace      | regexp_replace |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |--------------|----------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | abXXefabXXef | ThM            |
</span></span></span></code></pre></div><ol start="14">
<li>translate(string , FROM , to)å‡½æ•°å°†å­—ç¬¦ä¸² string ä¸­å‡ºç°åœ¨ FROM ä¸­çš„å­—ç¬¦ä¸²æ›¿æ¢æˆ to ä¸­ç›¸åº”ä½ç½®çš„å­—ç¬¦ã€‚å¦‚æœ FROM é•¿åº¦å¤§äº toï¼Œåœ¨ to ä¸­æ²¡æœ‰å¯¹åº”å€¼çš„å­—ç¬¦å°†è¢«åˆ é™¤ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">translate</span><span class="p">(</span><span class="s1">&#39;12345&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;143&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ax&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | translate |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | a2x5      |
</span></span></span></code></pre></div><ol start="15">
<li>overlay(string placing substring FROM [for])å‡½æ•°ä½¿ç”¨ substring è¦†ç›–å­—ç¬¦ä¸² string ä¸­ä»FROM å¼€å§‹çš„ for ä¸ªå­—ç¬¦ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">overlay</span><span class="p">(</span><span class="s1">&#39;Txxxxas&#39;</span><span class="w"> </span><span class="k">placing</span><span class="w"> </span><span class="s1">&#39;hom&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | overlay |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | Thomas  |
</span></span></span></code></pre></div><h3 id="æˆªæ–­ä¸å¡«å……">æˆªæ–­ä¸å¡«å……<a hidden class="anchor" aria-hidden="true" href="#æˆªæ–­ä¸å¡«å……">#</a></h3>
<ol>
<li>trim([leading | trailing | both] [characters] FROM string)å‡½æ•°ä»å­—ç¬¦ä¸²çš„å¼€å¤´ï¼ˆleadingï¼‰ã€ç»“å°¾ï¼ˆtrailingï¼‰æˆ–è€…ä¸¤ç«¯ï¼ˆbothï¼‰åˆ é™¤ç”±æŒ‡å®šå­—ç¬¦ charactersï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰ç»„æˆçš„æœ€é•¿å­ä¸²ã€‚</li>
<li>trim([leading | trailing | both] [FROM] string [, characters])å‡½æ•°çš„ä½œç”¨ç›¸åŒã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">trim</span><span class="p">(</span><span class="k">both</span><span class="w"> </span><span class="s1">&#39;xyz&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;yxTomxx&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | btrim |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | Tom   |
</span></span></span></code></pre></div><ol start="3">
<li>btrim(string [, characters])å‡½æ•°çš„ä½œç”¨ä¸ä¸Šé¢ trim å‡½æ•°çš„ both é€‰é¡¹ç›¸åŒã€‚</li>
<li>ltrim(string [,characters])ä¸ä¸Šé¢ trim å‡½æ•°çš„ leading é€‰é¡¹ç›¸åŒã€‚</li>
<li>rtrim(string [, characters])å‡½æ•°ä¸Šé¢ trim å‡½æ•°çš„trailing é€‰é¡¹ç›¸åŒã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">btrim</span><span class="p">(</span><span class="s1">&#39;yxTomxx&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xyz&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">ltrim</span><span class="p">(</span><span class="s1">&#39;yxTomxx&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xyz&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">rtrim</span><span class="p">(</span><span class="s1">&#39;yxTomxx&#39;</span><span class="p">,</span><span class="s1">&#39;xyz&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | btrim | ltrim | rtrim |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|-------|-------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | Tom   | Tomxx | yxTom |
</span></span></span></code></pre></div><ol start="6">
<li>lpad(string, length [, fill ])å‡½æ•°åœ¨ string å·¦ä¾§ä½¿ç”¨ fill ä¸­çš„å­—ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰è¿›è¡Œå¡«å……ï¼Œç›´åˆ°é•¿åº¦ä¸º lengthã€‚å¦‚æœ string é•¿åº¦å¤§äº lengthï¼Œä»å³ä¾§æˆªæ–­åˆ°é•¿åº¦ lengthã€‚</li>
<li>rpad(string, length [, fill ])å‡½æ•°åœ¨ string å³ä¾§ä½¿ç”¨ fill ä¸­çš„å­—ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰è¿›è¡Œå¡«å……ï¼Œç›´åˆ°é•¿åº¦ä¸º lengthã€‚å¦‚æœ string é•¿åº¦å¤§äº lengthï¼Œä»å³ä¾§æˆªæ–­åˆ°é•¿åº¦ lengthã€‚</li>
<li>repeat(string, number)å‡½æ•°å°†å­—ç¬¦ä¸² string é‡å¤ N æ¬¡ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">lpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xy&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">rpad</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xy&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Pg&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | lpad  | rpad  | repeat   |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------|-------|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | xyxhi | hixyx | PgPgPgPg |
</span></span></span></code></pre></div><h3 id="å­—ç¬¦ä¸²æ ¼å¼åŒ–">å­—ç¬¦ä¸²æ ¼å¼åŒ–<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²æ ¼å¼åŒ–">#</a></h3>
<ol>
<li>format(formatstr , formatarg)ç”¨äºå¯¹å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œç±»ä¼¼äº C è¯­è¨€ä¸­çš„ sprintf å‡½æ•°ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Hello %s, %1$s&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;World&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | format             |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |--------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | Hello World, World |
</span></span></span></code></pre></div><h3 id="md5-å€¼">MD5 å€¼<a hidden class="anchor" aria-hidden="true" href="#md5-å€¼">#</a></h3>
<ol>
<li>md5(string)å‡½æ•°ç”¨äºè¿”å›åå…­è¿›åˆ¶æ ¼å¼çš„ MD5 å€¼ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">md5</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | md5                              |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |----------------------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 900150983cd24fb0d6963f7d28e17f72 |
</span></span></span></code></pre></div><h3 id="å­—ç¬¦ä¸²æ‹†åˆ†">å­—ç¬¦ä¸²æ‹†åˆ†<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²æ‹†åˆ†">#</a></h3>
<ol>
<li>regexp_split_to_table(string, pattern[, flags])å‡½æ•°ç”¨äºæ‹†åˆ†å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ POSIX æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºåˆ†éš”ç¬¦ã€‚å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ text é›†åˆã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">regexp_split_to_table</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;\s+&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | regexp_split_to_table |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | hello                 |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | world                 |
</span></span></span></code></pre></div><ol start="2">
<li>split_part(string, delimiter, field)å‡½æ•°ä½¿ç”¨ delimiter æ‹†åˆ†å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æŒ‡å®šé¡¹ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">split_part</span><span class="p">(</span><span class="s1">&#39;abc~@~def~@~ghi&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;~@~&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | split_part |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | def        |
</span></span></span></code></pre></div><h3 id="å­—ç¬¦ä¸²åè½¬">å­—ç¬¦ä¸²åè½¬<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²åè½¬">#</a></h3>
<ol>
<li>reverse(str)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸²åè½¬ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;é˜¿è¨1çš„sé»„é‡‘å¡&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | reverse      |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |--------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | å¡é‡‘é»„sçš„1è¨é˜¿ |
</span></span></span></code></pre></div><h2 id="æ—¥æœŸå‡½æ•°">æ—¥æœŸå‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#æ—¥æœŸå‡½æ•°">#</a></h2>
<h3 id="è®¡ç®—æ—¶é—´é—´éš”">è®¡ç®—æ—¶é—´é—´éš”<a hidden class="anchor" aria-hidden="true" href="#è®¡ç®—æ—¶é—´é—´éš”">#</a></h3>
<ol>
<li>age(timestamp, timestamp)å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„é—´éš”ï¼Œ age(timestamp)å‡½æ•°ç”¨äºè®¡ç®—å½“å‰æ—¥æœŸçš„å‡Œæ™¨ 12 ç‚¹åˆ°è¯¥æ—¶é—´ç‚¹ä¹‹é—´çš„é—´éš”ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">age</span><span class="p">(</span><span class="k">timestamp</span><span class="w"> </span><span class="s1">&#39;2020-12-31&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">age</span><span class="p">(</span><span class="k">timestamp</span><span class="w"> </span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | age           |         age(1)       |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------------|----------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |11 mons 30 days|4 years 8 mons 19 days|
</span></span></span></code></pre></div><h3 id="è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯">è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#è·å–æ—¶é—´ä¸­çš„ä¿¡æ¯">#</a></h3>
<ol>
<li>date_part(text, timestamp)å’Œ extract(field FROM timestamp)å‡½æ•°ç”¨äºè·å–æ—¥æœŸæ—¶é—´ä¸­çš„æŸä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚å¹´ä»½ã€æœˆä»½ã€å°æ—¶ç­‰ã€‚</li>
<li>date_part(text, interval)å’Œ extract(field FROM interval)å‡½æ•°ç”¨äºè·å–æ—¶é—´é—´éš”ä¸­çš„æŸä¸€éƒ¨åˆ†ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">date_part</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="s1">&#39;2020-03-03 20:38:40&#39;</span><span class="w"> </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">EXTRACT</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">YEAR</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="s1">&#39;2020-03-03 20:38:40&#39;</span><span class="w"> </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">date_part</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;month&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;1 years 5 months&#39;</span><span class="w"> </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">EXTRACT</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">MONTH</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;1 years 5 months&#39;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- |date_part|date_part|date_part|date_part|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------|---------|---------|---------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020    | 2020    | 5       | 5       |
</span></span></span></code></pre></div><ol start="3">
<li>é€šè¿‡è¿”å›å­—æ®µçš„æ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼Œ extract å‡½æ•°å®é™…ä¸Šä¹Ÿæ˜¯è°ƒç”¨äº† date_part å‡½æ•°ï¼Œåªæ˜¯å‚æ•°æ–¹å¼ä¸åŒã€‚</li>
<li>è¿™ä¸¤ä¸ªå‡½æ•°æ”¯æŒè·å–çš„ä¿¡æ¯åŒ…æ‹¬ï¼š
<ul>
<li>centuryï¼Œä¸–çºªï¼›</li>
<li>dayï¼Œå¯¹äº timestampï¼Œè¿”å›æœˆä»½ä¸­çš„ç¬¬å‡ å¤©ï¼›å¯¹äº intervalï¼Œè¿”å›å¤©æ•°ï¼›</li>
<li>decadeï¼Œå¹´ä»½é™¤ä»¥ 10ï¼›</li>
<li>dowï¼Œæ˜ŸæœŸå¤©ï¼ˆ0ï¼‰åˆ°æ˜ŸæœŸå…­ï¼ˆ6ï¼‰ï¼›</li>
<li>doyï¼Œä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼Œï¼ˆ1 - 365/366ï¼‰ï¼›</li>
<li>epochï¼Œå¯¹äº timestamp WITH time zoneï¼Œè¿”å› 1970-01-01 00:00:00 UTC åˆ°è¯¥æ—¶é—´çš„ç§’æ•°ï¼›å¯¹äº date å’Œ timestampï¼Œå›æœ¬åœ°æ—¶é—´çš„ 1970-01-01 00:00:00 åˆ°è¯¥æ—¶é—´çš„ç§’æ•°ï¼›å¯¹äºintervalï¼Œè¿”å›ä»¥ç§’æ•°è¡¨ç¤ºçš„è¯¥æ—¶é—´é—´éš”ï¼›</li>
<li>hourï¼Œå°æ—¶ï¼ˆ1 - 23ï¼‰ï¼›</li>
<li>isodowï¼Œ ISO 8601 æ ‡å‡†ä¸­çš„æ˜ŸæœŸä¸€ï¼ˆ1ï¼‰åˆ°æ˜ŸæœŸå¤©ï¼ˆ7ï¼‰ï¼›</li>
<li>isoyearï¼Œ ISO 8601 æ ‡å‡†å®šä¹‰çš„æ—¥æœŸæ‰€åœ¨çš„å¹´ä»½ã€‚æ¯å¹´ä»åŒ…å« 1 æœˆ 4 æ—¥çš„æ˜ŸæœŸä¸€å¼€å§‹ï¼Œ2017å¹´ 01 æœˆ 01 æ—¥å±äº 2016 å¹´ï¼›</li>
<li>microsecondsï¼Œå¾®ç§’ï¼ŒåŒ…å«ç§’å’Œå°æ•°ç§’åœ¨å†…çš„æ•°å­—ä¹˜ä»¥ 1000000ï¼›</li>
<li>millenniumï¼Œåƒå¹´ï¼›</li>
<li>millisecondsï¼Œæ¯«ç§’ï¼ŒåŒ…å«ç§’å’Œå°æ•°ç§’åœ¨å†…çš„æ•°å­—ä¹˜ä»¥ 1000ï¼›</li>
<li>minuteï¼Œåˆ†é’Ÿï¼Œï¼ˆ 0 - 59ï¼‰ï¼›</li>
<li>monthï¼Œæœˆä»½ï¼›</li>
<li>quarterï¼Œå­£åº¦ï¼Œï¼ˆ 1 - 4ï¼‰ï¼›</li>
<li>secondï¼Œç§’æ•°ï¼ŒåŒ…å«å°æ•°ç§’ï¼›</li>
<li>timezoneï¼Œ UTC æ—¶åŒºï¼Œå•ä½ä¸ºç§’ï¼›</li>
<li>timezone_hourï¼Œ UTC æ—¶åŒºä¸­çš„å°æ—¶éƒ¨åˆ†ï¼›</li>
<li>timezone_minuteï¼Œ UTC æ—¶åŒºä¸­çš„åˆ†é’Ÿéƒ¨åˆ†ï¼›</li>
<li>weekï¼ŒISO 8601 æ ‡å‡†ä¸­çš„æ˜ŸæœŸå‡ ï¼Œæ¯å¹´ä»ç¬¬ä¸€ä¸ªæ˜ŸæœŸå››æ‰€åœ¨çš„ä¸€å‘¨å¼€å§‹ï¼›</li>
<li>yearï¼Œå¹´ä»½ã€‚</li>
</ul>
</li>
</ol>
<h3 id="æˆªæ–­æ—¥æœŸæ—¶é—´">æˆªæ–­æ—¥æœŸ/æ—¶é—´<a hidden class="anchor" aria-hidden="true" href="#æˆªæ–­æ—¥æœŸæ—¶é—´">#</a></h3>
<ol>
<li>date_trunc(field, source [, time_zone ])å‡½æ•°ç”¨äºå°† timestampã€ timestamp WITH time zoneã€dateã€ time æˆ–è€… interval æ•°æ®æˆªæ–­åˆ°æŒ‡å®šçš„ç²¾åº¦ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">date_trunc</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="s1">&#39;2020-03-03 20:38:40&#39;</span><span class="w"> </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">date_trunc</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;day&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">timestamptz</span><span class="w"> </span><span class="s1">&#39;2020-03-03 20:38:40+00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Asia/Shanghai&#39;</span><span class="w"> </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">date_trunc</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;hour&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;2 days 3 hours 40 minutes&#39;</span><span class="w"> </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | date_trunc         | date_trunc(1)        | date_trunc(2) |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | -------------------|----------------------|---------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-01-01 00:00:00|2020-03-03 16:00:00+00|2 days 03:00:00|
</span></span></span></code></pre></div><ol start="2">
<li>date_trunc å‡½æ•°æ”¯æŒä»¥ä¸‹æˆªæ–­ç²¾åº¦ï¼š
<ul>
<li>microseconds</li>
<li>milliseconds</li>
<li>second</li>
<li>minute</li>
<li>hour</li>
<li>day</li>
<li>week</li>
<li>month</li>
<li>quarter</li>
<li>year</li>
<li>decade</li>
<li>century</li>
<li>millennium</li>
</ul>
</li>
</ol>
<h3 id="åˆ›å»ºæ—¥æœŸæ—¶é—´">åˆ›å»ºæ—¥æœŸ/æ—¶é—´<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºæ—¥æœŸæ—¶é—´">#</a></h3>
<ol>
<li>make_date(year int, month int, day int)å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ—¥æœŸï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">make_date</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span><span class="w"> </span><span class="mi">03</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | make_date |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2022-03-15|
</span></span></span></code></pre></div><ol start="2">
<li>make_interval(years int DEFAULT 0, months int DEFAULT 0, weeks int DEFAULT 0, days int DEFAULT 0, hours int DEFAULT 0, mins int DEFAULT 0, secs double precision DEFAULT 0.0)å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ç­‰ä¿¡æ¯åˆ›å»ºä¸€ä¸ªæ—¶é—´é—´éš”ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">make_interval</span><span class="p">(</span><span class="n">days</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">hours</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | make_interval |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 1 day 05:00:00|
</span></span></span></code></pre></div><ol start="3">
<li>make_time(hour int, min int, sec double precision)å‡½æ•°é€šè¿‡æŒ‡å®šå°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°åˆ›å»ºä¸€ä¸ªæ—¶é—´ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">make_time</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | make_time  |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 01:02:30.5 |
</span></span></span></code></pre></div><ol start="4">
<li>make_timestamp(year int, month int, day int, hour int, min int, sec double precision) å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’åˆ›å»ºä¸€ä¸ªæ—¶é—´æˆ³ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">make_timestamp</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | make_timestamp       |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |----------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-15 08:20:23.5|
</span></span></span></code></pre></div><ol start="5">
<li>make_timestamptz(year int, month int, day int, hour int, min int, sec double precision, [ timezone text ])å‡½æ•°é€šè¿‡æŒ‡å®šå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’åˆ›å»ºä¸€ä¸ªå¸¦æ—¶åŒºçš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šæ—¶åŒºï¼Œä½¿ç”¨å½“å‰æ—¶åŒºã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">make_timestamptz</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | make_timestamptz        |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-------------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-15 08:20:23.5+08|
</span></span></span></code></pre></div><ol start="6">
<li>to_timestamp(double precision)å‡½æ•°å°† Unix æ—¶é—´æˆ³ï¼ˆè‡ªä» 1970-01-01 00:00:00+00 ä»¥æ¥çš„ç§’æ•°ï¼‰è½¬æ¢ä¸º PostgreSQL æ—¶é—´æˆ³æ•°æ®ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="mi">1583152349</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | to_timestamp          |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-02 12:32:29+00|
</span></span></span></code></pre></div><h3 id="è·å–ç³»ç»Ÿæ—¶é—´">è·å–ç³»ç»Ÿæ—¶é—´<a hidden class="anchor" aria-hidden="true" href="#è·å–ç³»ç»Ÿæ—¶é—´">#</a></h3>
<ol>
<li>PostgreSQL æä¾›äº†å¤§é‡ç”¨äºè·å–ç³»ç»Ÿå½“å‰æ—¥æœŸå’Œæ—¶é—´çš„å‡½æ•°ï¼Œä¾‹å¦‚ current_dateã€ current_timeã€current_timestampã€ clock_timestamp()ã€ localtimestampã€ now()ã€ statement_timestamp()ç­‰ã€‚</li>
<li>åŒæ—¶è¿˜æ”¯æŒå»¶è¿Ÿè¯­å¥æ‰§è¡Œçš„ pg_sleep()ç­‰å‡½æ•°ï¼Œå…·ä½“å¯ä»¥å¯ä»¥å‚è€ƒ<a href="https://tonydong.blog.csdn.net/article/details/102581249" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚</li>
</ol>
<h3 id="æ—¶åŒºè½¬æ¢">æ—¶åŒºè½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#æ—¶åŒºè½¬æ¢">#</a></h3>
<ol>
<li>AT TIME ZONE è¿ç®—ç¬¦ç”¨äºå°† timestamp without time zoneã€ timestamp WITH time zone ä»¥åŠ time WITH time zone è½¬æ¢ä¸ºæŒ‡å®šæ—¶åŒºä¸­çš„æ—¶é—´ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s1">&#39;2020-03-03 20:38:40&#39;</span><span class="w"> </span><span class="k">AT</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="s1">&#39;Asia/Shanghai&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="s1">&#39;2020-03-03 20:38:40-05:00&#39;</span><span class="w"> </span><span class="k">AT</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="s1">&#39;Asia/Shanghai&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">TIME</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="s1">&#39;20:38:40-05:00&#39;</span><span class="w"> </span><span class="k">AT</span><span class="w"> </span><span class="n">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="s1">&#39;Asia/Shanghai&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | timezone              | timezone          | timezone  |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------------------|-------------------|-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-03 12:38:40+00|2020-03-04 09:38:40|09:38:40+08|
</span></span></span></code></pre></div><ol start="2">
<li>timezone(zone, timestamp)å‡½æ•°ç­‰ä»·äº SQL æ ‡å‡†ä¸­çš„ timestamp AT TIME ZONE zoneã€‚</li>
<li>è¿˜æœ‰ä¸€äº›å…³äºæ—¥æœŸæ—¶é—´çš„å‡½æ•°ï¼Œå¯ä»¥å‚è€ƒ<a href="https://www.postgresql.org/docs/current/functions-datetime.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</li>
</ol>
<h2 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#ç±»å‹è½¬æ¢">#</a></h2>
<h3 id="cast-å‡½æ•°">CAST å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#cast-å‡½æ•°">#</a></h3>
<ol>
<li>CAST ( expr AS data_type )å‡½æ•°ç”¨äºå°† expr è½¬æ¢ä¸º data_type æ•°æ®ç±»å‹ã€‚</li>
<li>PostgreSQL ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆ::ï¼‰ä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;15&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;2020-03-15&#39;</span><span class="p">::</span><span class="nb">DATE</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | int4|date      |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----|----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 15  |2020-03-15|
</span></span></span></code></pre></div><ol start="3">
<li>å¦‚æœæ•°æ®æ— æ³•è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»å‹ï¼Œå°†ä¼šè¿”å›é”™è¯¯ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;A15&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">--SQL é”™è¯¯ [22P02]: é”™è¯¯: æ— æ•ˆçš„ç±»å‹ integer è¾“å…¥è¯­æ³•: &#34;A15&#34; ä½ç½®ï¼š 14
</span></span></span></code></pre></div><h3 id="to_date-å‡½æ•°">to_date å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#to_date-å‡½æ•°">#</a></h3>
<ol>
<li>to_date(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸² string æŒ‰ç…§ format æ ¼å¼è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2020/03/15&#39;</span><span class="p">,</span><span class="s1">&#39;YYYY/MM/DD&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | to_date   |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |-----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-15|
</span></span></span></code></pre></div><ol start="2">
<li>å…¶ä¸­ï¼Œ YYYY ä»£è¡¨å››ä½æ•°çš„å¹´ï¼› MM ä»£è¡¨ä¸¤ä½æ•°çš„æœˆï¼› DD ä»£è¡¨ä¸¤ä½æ•°çš„æ—¥ã€‚æ›´å¤šçš„æ ¼å¼é€‰é¡¹å¯ä»¥å‚è€ƒ<a href="https://www.postgresql.org/docs/current/functions-formatting.html#FUNCTIONS-FORMATTING-DATETIME-TABLE" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ã€‚</li>
</ol>
<h3 id="to_timestamp-å‡½æ•°">to_timestamp å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#to_timestamp-å‡½æ•°">#</a></h3>
<ol>
<li>to_timestamp(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸² string æŒ‰ç…§ format æ ¼å¼è½¬æ¢ä¸º timestampWITH time zone ç±»å‹ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="s1">&#39;2020-03-15 19:08:00.678&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;YYYY-MM-DD HH24:MI:SS.MS&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | to_timestamp |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 2020-03-15 19:08:00.678+08|
</span></span></span></code></pre></div><ol start="2">
<li>å…¶ä¸­ï¼Œ HH24 è¡¨ç¤º 24 å°æ—¶åˆ¶çš„å°æ—¶ï¼› MI è¡¨ç¤ºåˆ†é’Ÿï¼› SS è¡¨ç¤ºç§’æ•°ï¼› MS è¡¨ç¤ºæ¯«ç§’æ•°ã€‚</li>
</ol>
<h3 id="to_char-å‡½æ•°">to_char å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#to_char-å‡½æ•°">#</a></h3>
<ol>
<li>to_char(expre, format)å‡½æ•°ç”¨äºå°† timestampã€ intervalã€ integerã€ double precision æˆ–è€… numericç±»å‹çš„å€¼è½¬æ¢ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to_char</span><span class="p">(</span><span class="k">current_timestamp</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24:MI:SS&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to_char</span><span class="p">(</span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;5h 12m 30s&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH12:MI:SS&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">to_char</span><span class="p">(</span><span class="o">-</span><span class="mi">125</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;999D99&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | to_char |to_char |to_char|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------|--------|-------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 21:30:22|05:12:30|-125.80|
</span></span></span></code></pre></div><h3 id="to_number-å‡½æ•°">to_number å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#to_number-å‡½æ•°">#</a></h3>
<ol>
<li>to_number(string, format)å‡½æ•°ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">to_number</span><span class="p">(</span><span class="s1">&#39;ï¿¥125.8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;L999D9&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | to_number|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |----------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 125.8    |
</span></span></span></code></pre></div><h3 id="éšå¼ç±»å‹è½¬æ¢">éšå¼ç±»å‹è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#éšå¼ç±»å‹è½¬æ¢">#</a></h3>
<ol>
<li>é™¤äº†æ˜¾å¼ä½¿ç”¨ç±»å‹è½¬æ¢å‡½æ•°æˆ–è¿ç®—ç¬¦ä¹‹å¤–ï¼Œå¾ˆå¤šæ—¶å€™ PostgreSQL ä¼šè‡ªåŠ¨æ‰§è¡Œæ•°æ®ç±»å‹çš„éšå¼è½¬æ¢ã€‚ä¾‹å¦‚ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="o">+</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;todo: &#39;</span><span class="o">||</span><span class="k">current_timestamp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- | ?column?|?column?                          |
</span></span></span><span class="line"><span class="cl"><span class="c1">-- |---------|----------------------------------|
</span></span></span><span class="line"><span class="cl"><span class="c1">-- | 3       |todo:2020-03-09 21:49:49.370621+08|
</span></span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://helium.github.io/tags/pgsql/">Pgsql</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://helium.github.io/posts/postgresql/table/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>è¡¨å’Œè¡¨ç©ºé—´</span>
  </a>
  <a class="next" href="https://helium.github.io/posts/grpc/ssl/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>SSL/TLS å®‰å…¨</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    
    <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv">
        æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
    </span>
    <span id="busuanzi_container_site_uv">
        æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
    </span>
    </div>
        <span>Copyright Â© 2024 èœ€ICPå¤‡2024091074å· <a href="#">heliu's blog</a>. All rights reserved</span>  
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Done';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>redis string | Helium</title>
<meta name="keywords" content="redis">
<meta name="description" content="redis string介绍。">
<meta name="author" content="helium">
<link rel="canonical" href="https://helium-chain.github.io/posts/redis/string/">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="referrer" content="no-referrer-when-downgrade">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://helium-chain.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://helium-chain.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://helium-chain.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://helium-chain.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://helium-chain.github.io/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://helium-chain.github.io/posts/redis/string/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono-nl.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css" />
    <style>
        body {
            font-family: "LXGW WenKai Lite", sans-serif;
            font-family: "LXGW WenKai Screen", sans-serif;
        }
    </style>
</head>
</html>

  

<meta property="og:title" content="redis string" />
<meta property="og:description" content="redis string介绍。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://helium-chain.github.io/posts/redis/string/" />
<meta property="og:image" content="https://helium-chain.github.io/favicon-32x32.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-03-12T00:00:00+00:00" /><meta property="og:site_name" content="Helium" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://helium-chain.github.io/favicon-32x32.png" />
<meta name="twitter:title" content="redis string"/>
<meta name="twitter:description" content="redis string介绍。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Article",
      "item": "https://helium-chain.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Redis",
      "item": "https://helium-chain.github.io/posts/redis/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "redis string",
      "item": "https://helium-chain.github.io/posts/redis/string/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "redis string",
  "name": "redis string",
  "description": "redis string介绍。",
  "keywords": [
    "redis"
  ],
  "articleBody": " 官网命令地址：https://redis.io/commands/?group=string。 redis客户端查询命令：help @string string string类型，也就是字符串类型，是Redis中最简单的存储类型。 其value是字符串，不过根据字符串的格式不同，又可以分为3类： string：普通字符串。 int：整数类型，可以做自增，自减操作。 float：浮点类型，可以做自增.自减操作。 KEY Value message hello world number 18 score 87.6 APPEND 将字符串附加到key的值。如果key不存在，则创建该key。\n语法：\nAPPEND key value 示例： redis\u003e EXISTS mykey (integer) 0 redis\u003e APPEND mykey \"Hello\" (integer) 5 redis\u003e APPEND mykey \" World\" (integer) 11 redis\u003e GET mykey \"Hello World\" DECR 将key的整数值减1。如果key不存在，则使用0作为初始值。\n语法：\nDECR key 示例： redis\u003e SET mykey \"10\" \"OK\" redis\u003e DECR mykey (integer) 9 redis\u003e SET mykey \"234293482390480948029348230948\" \"OK\" redis\u003e DECR mykey (error) value is not an integer or out of range DECRBY 从key的整数值中减去一个数字。如果key不存在，则使用0作为初始值。\n语法：\nDECRBY key decrement 示例： redis\u003e SET mykey \"10\" \"OK\" redis\u003e DECRBY mykey 3 (integer) 7 GET 返回key的字符串值。\n语法：\nGET key 示例： redis\u003e GET nonexisting (nil) redis\u003e SET mykey \"Hello\" \"OK\" redis\u003e GET mykey \"Hello\" Go代码： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 package example_commands_test import ( \"context\" \"fmt\" \"github.com/redis/go-redis/v9\" ) func ExampleClient_Set_and_get() { ctx := context.Background() rdb := redis.NewClient(\u0026redis.Options{ Addr: \"localhost:6379\", Password: \"\", // no password docs DB: 0, // use default DB }) err := rdb.Set(ctx, \"bike:1\", \"Process 134\", 0).Err() if err != nil { panic(err) } fmt.Println(\"OK\") value, err := rdb.Get(ctx, \"bike:1\").Result() if err != nil { panic(err) } fmt.Printf(\"The name of the bike is %s\", value) } GETDEL 在删除key后返回key的字符串值。\n语法：\nGETDEL key 示例： redis\u003e SET mykey \"Hello\" \"OK\" redis\u003e GETDEL mykey \"Hello\" redis\u003e GET mykey (nil) GETEX 在设置key的过期时间后返回key的字符串值。\n语法：\nGETEX key [EX seconds | PX milliseconds | EXAT unix-time-seconds | PXAT unix-time-milliseconds | PERSIST] EX seconds – 设置指定的过期时间，以秒为单位。 PX milliseconds – 设置指定的过期时间，以毫秒为单位。 EXAT timestamp-seconds – 设置key到期的指定Unix时间，以秒为单位。 PXAT timestamp-milliseconds – 设置key到期的指定Unix时间，以毫秒为单位。 PERSIST – 删除与该key关联的生存时间。 示例： redis\u003e SET mykey \"Hello\" \"OK\" redis\u003e GETEX mykey \"Hello\" redis\u003e TTL mykey (integer) -1 redis\u003e GETEX mykey EX 60 \"Hello\" redis\u003e TTL mykey (integer) 60 GETRANGE 返回存储在key中的字符串的子字符串。\n语法：\nGETRANGE key start end 示例： redis\u003e SET mykey \"This is a string\" \"OK\" redis\u003e GETRANGE mykey 0 3 \"This\" redis\u003e GETRANGE mykey -3 -1 \"ing\" redis\u003e GETRANGE mykey 0 -1 \"This is a string\" redis\u003e GETRANGE mykey 10 100 \"string\" GETSET 将key设置为新值后返回key的前一个字符串值。\n语法：\nGETSET key value 示例： redis\u003e INCR mycounter (integer) 1 redis\u003e GETSET mycounter \"0\" \"1\" redis\u003e GET mycounter \"0\" INCR 将key的整数值加1。如果key不存在，则使用0作为初始值。\n语法：\nINCR key 示例： redis\u003e SET mykey \"10\" \"OK\" redis\u003e INCR mykey (integer) 11 redis\u003e GET mykey \"11\" INCRBY 将key的整数值增加一个数字。如果key不存在，则使用0作为初始值。\n语法：\nINCRBY key increment 示例： redis\u003e SET mykey \"10\" \"OK\" redis\u003e INCRBY mykey 5 (integer) 15 INCRBYFLOAT 将key的浮点值增加一个数字。如果key不存在，则使用0作为初始值。\n语法：\nINCRBYFLOAT key increment 示例： redis\u003e SET mykey 10.50 \"OK\" redis\u003e INCRBYFLOAT mykey 0.1 \"10.6\" redis\u003e INCRBYFLOAT mykey -5 \"5.6\" redis\u003e SET mykey 5.0e3 \"OK\" redis\u003e INCRBYFLOAT mykey 2.0e2 \"5200\" LCS 查找最长的公共子字符串。\n语法：\nLCS key1 key2 [LEN] [IDX] [MINMATCHLEN min-match-len] [WITHMATCHLEN] 示例： \u003e MSET key1 ohmytext key2 mynewtext OK \u003e LCS key1 key2 \"mytext\" \u003e LCS key1 key2 LEN (integer) 6 \u003e LCS key1 key2 IDX 1) \"matches\" 2) 1) 1) 1) (integer) 4 1) (integer) 7 1) 1) (integer) 5 1) (integer) 8 2) 1) 1) (integer) 2 2) (integer) 3 1) 1) (integer) 0 1) (integer) 1 3) \"len\" 4) (integer) 6 MGET 自动返回一个或多个key的字符串值。\n语法：\nMGET key [key ...] 示例： redis\u003e SET key1 \"Hello\" \"OK\" redis\u003e SET key2 \"World\" \"OK\" redis\u003e MGET key1 key2 nonexisting 1) \"Hello\" 2) \"World\" 3) (nil) MSET 自动创建或修改一个或多个key的字符串值。\n语法：\nMSET key value [key value ...] 示例： redis\u003e MSET key1 \"Hello\" key2 \"World\" \"OK\" redis\u003e GET key1 \"Hello\" redis\u003e GET key2 \"World\" MSETNX 仅在不存在所有key时才自动修改一个或多个key的字符串值。（仅当key不存在时才会设置value）\n语法：\nMSETNX key value [key value ...] 示例： redis\u003e MSETNX key1 \"Hello\" key2 \"there\" (integer) 1 redis\u003e MSETNX key2 \"new\" key3 \"world\" (integer) 0 redis\u003e MGET key1 key2 key3 1) \"Hello\" 2) \"there\" 3) (nil) PSETEX 设置key的字符串值和过期时间(以毫秒为单位)。如果key不存在，则创建该key。\n语法：\nPSETEX key milliseconds value 示例： redis\u003e PSETEX mykey 1000 \"Hello\" \"OK\" redis\u003e PTTL mykey (integer) 998 redis\u003e GET mykey \"Hello\" SET 设置key的字符串值，忽略其类型。如果key不存在，则创建该key。\n语法：\nSET key value [NX | XX] [GET] [EX seconds | PX milliseconds | EXAT unix-time-seconds | PXAT unix-time-milliseconds | KEEPTTL] EX seconds – 设置指定的过期时间，单位为秒(正整数)。 PX milliseconds – 设置指定的过期时间，单位为毫秒(正整数)。 EXAT timestamp-seconds – 设置key到期的指定Unix时间，以秒为单位(一个正整数)。 PXAT timestamp-milliseconds – 设置key到期的指定Unix时间，以毫秒为单位(正整数)。 NX – 仅在key不存在时设置该key。 XX – 只有当key已经存在时才设置它。 KEEPTTL – 保留与该key关联的生存时间。 GET – 返回存储在key处的旧字符串，如果key不存在则返回nil。如果存储在key处的值不是字符串，则返回错误并终止’ SET ‘。 注意:由于SET命令选项可以取代SETNX, SETEX, PSETEX, GETSET，在Redis的未来版本中，这些命令可能会被弃用并最终被删除。\n示例：\nredis\u003e SET mykey \"Hello\" \"OK\" redis\u003e GET mykey \"Hello\" redis\u003e SET anotherkey \"will expire in a minute\" EX 60 \"OK\" Go代码： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 package example_commands_test import ( \"context\" \"fmt\" \"github.com/redis/go-redis/v9\" ) func ExampleClient_Set_and_get() { ctx := context.Background() rdb := redis.NewClient(\u0026redis.Options{ Addr: \"localhost:6379\", Password: \"\", // no password docs DB: 0, // use default DB }) err := rdb.Set(ctx, \"bike:1\", \"Process 134\", 0).Err() if err != nil { panic(err) } fmt.Println(\"OK\") value, err := rdb.Get(ctx, \"bike:1\").Result() if err != nil { panic(err) } fmt.Printf(\"The name of the bike is %s\", value) } SETEX 设置key的字符串值和过期时间。如果key不存在，则创建该key。\n语法：等价于SET key value EX seconds\nSETEX key seconds value 示例： redis\u003e SETEX mykey 10 \"Hello\" \"OK\" redis\u003e TTL mykey (integer) 10 redis\u003e GET mykey \"Hello\" SETNX 仅当key不存在时才设置该key的字符串值。\n语法：\nSETNX key value 示例： redis\u003e SETNX mykey \"Hello\" (integer) 1 redis\u003e SETNX mykey \"World\" (integer) 0 redis\u003e GET mykey \"Hello\" SETRANGE 将字符串值的一部分以偏移量覆盖另一部分。如果key不存在，则创建该key。\n语法：\nSETRANGE key offset value 示例： redis\u003e SET key1 \"Hello World\" \"OK\" redis\u003e SETRANGE key1 6 \"Redis\" (integer) 11 redis\u003e GET key1 \"Hello Redis\" redis\u003e SETRANGE key2 6 \"Redis\" (integer) 11 redis\u003e GET key2 \"Redis\" STRLEN 返回字符串值的长度。\n语法：\nSTRLEN key 示例： redis\u003e SET mykey \"Hello world\" \"OK\" redis\u003e STRLEN mykey (integer) 11 redis\u003e STRLEN nonexisting (integer) 0 SUBSTR 从字符串值返回子字符串。\n语法：\nSUBSTR key start end 示例： redis\u003e SET mykey \"This is a string\" \"OK\" redis\u003e GETRANGE mykey 0 3 \"This\" redis\u003e GETRANGE mykey -3 -1 \"ing\" redis\u003e GETRANGE mykey 0 -1 \"This is a string\" redis\u003e GETRANGE mykey 10 100 \"string\" ",
  "wordCount" : "959",
  "inLanguage": "zh",
  "image": "https://helium-chain.github.io/favicon-32x32.png","datePublished": "2023-03-12T00:00:00Z",
  "dateModified": "2023-03-12T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "helium"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://helium-chain.github.io/posts/redis/string/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Helium",
    "logo": {
      "@type": "ImageObject",
      "url": "https://helium-chain.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://helium-chain.github.io/" accesskey="h" title="Blog (Alt + H)">
                <img src="https://helium-chain.github.io/helium.png" alt="" aria-label="logo"
                    height="35">Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://helium-chain.github.io/" title="主页">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://helium-chain.github.io/posts" title="文章">
                    <span>Article</span>
                </a>
            </li>
            <li>
                <a href="https://helium-chain.github.io/archives" title="时间轴">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://helium-chain.github.io/tags/" title="标签">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="https://helium-chain.github.io/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://helium-chain.github.io/support" title="打赏">
                    <span>🫶Help</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">


<article class="post" autonumbering>
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://helium-chain.github.io/">主页</a>&nbsp;»&nbsp;<a href="https://helium-chain.github.io/posts/">Article</a>&nbsp;»&nbsp;<a href="https://helium-chain.github.io/posts/redis/">Redis</a></div>
    <h1 class="post-title entry-hint-parent">
      redis string
    </h1>
    <div class="post-meta">










<span class="x-post-meta-item"><svg t="1720837714681" class="icon" viewBox="0 0 1084 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7520" width="200" height="200"><path d="M123.47509 1023.984942a123.565437 123.565437 0 0 1-123.505206-123.32451V243.863302A123.565437 123.565437 0 0 1 123.47509 120.568908h171.630374V26.06529a26.050232 26.050232 0 0 1 52.070349 0v94.503618h377.592848V26.06529a26.050232 26.050232 0 0 1 52.100464 0v94.503618h183.797189A123.565437 123.565437 0 0 1 1084.171519 243.863302v656.79713A123.565437 123.565437 0 0 1 960.666314 1023.984942H123.47509z m-71.404741-123.32451A71.434857 71.434857 0 0 0 123.47509 971.974825h837.191224a71.434857 71.434857 0 0 0 71.404741-71.314393V442.326922l-946.361273-3.824716a25.598494 25.598494 0 0 1-5.84248-0.692665l-27.796953-6.444798v469.295689zM123.47509 172.579025a71.434857 71.434857 0 0 0-71.404741 71.284277v149.736133l27.796953-6.444797a26.080348 26.080348 0 0 1 5.902712-0.662549l946.301041 3.824716V243.863302a71.404741 71.404741 0 0 0-71.404741-71.284277h-180.183284l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.261043 26.261043 0 0 1-23.520499-14.786895l-6.173754-12.859479H350.819834l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.230928 26.230928 0 0 1-23.520499-14.786895l-6.173755-12.859479H123.47509z m156.150814 578.827128a26.050232 26.050232 0 0 1-26.050232-25.990001c0-14.335157 11.68496-26.020116 26.050232-26.020116h521.697312c14.365273 0 26.050232 11.68496 26.050233 26.020116a26.050232 26.050232 0 0 1-26.050233 25.990001H279.625904z" fill="#3D3F42" p-id="7521"></path></svg><span>2023-03-12</span></span>&nbsp;<span class="x-post-meta-item"><svg t="1720839329181" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14106" width="200" height="200"><path d="M699.270662 190.485379c-0.411369 0-0.821715 0.011256-1.227967 0.032746H507.034407a23.041786 23.041786 0 0 0-1.221828-0.031723c-12.779048 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.360975 23.141046 23.140023 23.141046v0.032746h193.458083v-0.032746c12.780071 0 23.141046-10.359952 23.141047-23.141046 0-12.780071-10.360975-23.140023-23.141047-23.140023zM979.215516 724.005508c0-142.090159-115.186416-257.277598-257.277598-257.277598-72.245418 0-137.532353 29.777187-184.262654 77.725223l45.868677 31.474852c36.227086-33.873482 84.882226-54.617945 138.393977-54.617945 111.945605 0 202.696492 90.750887 202.696492 202.695468h-43.01263l70.331835 104.289228 70.331835-104.289228H979.215516z" fill="" p-id="14107"></path><path d="M748.885664 588.843132c0-14.881942-12.06785-26.945699-26.947746-26.945698-14.883989 0-26.947745 12.063757-26.947745 26.945698v135.164423c0 14.879895 12.063757 26.945699 26.947745 26.945699h107.786889c14.881942 0 26.945699-12.063757 26.945698-26.945699s-12.063757-26.945699-26.945698-26.945699h-80.839143V588.843132zM721.937918 926.702c-111.947651 0-202.696492-90.74884-202.696492-202.696492 0-0.144286 0.004093-0.285502 0.004094-0.429788h43.004443l-70.330812-104.289228-70.331835 104.289228h43.075051c0 0.144286-0.00307 0.285502-0.00307 0.429788 0 142.091182 115.187439 257.279644 257.278621 257.279645 72.241324 0 137.530306-29.77821 184.260607-77.727269l-45.86663-31.474852c-36.227086 33.873482-84.884272 54.618968-138.393977 54.618968zM694.633039 423.38066c-1.354857-11.487635-11.120268-20.400632-22.972201-20.400632H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.138999 0 12.781094 10.359952 23.141046 23.140023 23.141047H596.949252c30.209022-13.81668 63.104223-22.76754 97.683787-25.879414zM438.548616 623.143333H206.362486c-12.780071 0-23.140023 10.358929-23.140023 23.140023 0 12.780071 10.359952 23.140023 23.140023 23.140023h219.956598a298.463626 298.463626 0 0 1 12.229532-46.280046zM506.934123 513.062192H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.359952 23.140023 23.140023 23.140023H469.936487a302.241672 302.241672 0 0 1 36.997636-46.279023z" fill="" p-id="14108"></path><path d="M442.765661 835.277778a298.531164 298.531164 0 0 1-14.365173-46.150087H146.542052v-0.065491c-33.036417 0-59.81941-26.78197-59.81941-59.819411V329.36031h704.907545v100.905154a298.561863 298.561863 0 0 1 46.150086 14.996552V194.619536h-0.162706c0-53.422723-43.307342-96.728018-96.730065-96.728018h-68.89409V84.418668c0-33.037441-26.782993-59.81941-59.81941-59.81941v-0.361227h-18.87079v0.032745c-33.038464 0-59.820434 26.78197-59.820433 59.819411 0 0.109494 0.008186 0.218988 0.008186 0.328481h-0.339738v13.47285H345.203648V84.418668c0-33.037441-26.782993-59.81941-59.819411-59.81941v-0.361227h-18.872836v0.032745c-33.036417 0-59.81941 26.78197-59.81941 59.819411 0 0.109494 0.007163 0.218988 0.008186 0.328481h-0.339737v13.47285h-69.189826c-53.4217 0-96.729042 43.306318-96.729041 96.728018 0 1.701758 0.045025 3.39226 0.132006 5.071505v533.785166a98.051153 98.051153 0 0 0-0.132006 5.071506c0 53.4217 43.307342 96.728018 96.729041 96.728018v0.001023h305.595047zM86.723665 204.056466c0-33.037441 26.782993-59.81941 59.819411-59.819411 0.044002 0 0.086981 0.00307 0.130983 0.00307v-0.068561h105.968473V94.874811h0.032746a22.807449 22.807449 0 0 1-0.032746-1.215688c0-12.779048 10.360975-23.140023 23.140023-23.140023s23.140023 10.360975 23.140023 23.140023c0 0.408299-0.010233 0.812505-0.031722 1.215688h0.031722v49.297776h280.508696V94.874811h0.032745a22.807449 22.807449 0 0 1-0.032745-1.215688c0-12.779048 10.361999-23.140023 23.140023-23.140023 12.780071 0 23.141046 10.360975 23.141046 23.140023 0 0.408299-0.011256 0.812505-0.032746 1.215688h0.032746v49.297776h106.10048v0.065492c33.035394 0 59.818387 26.780947 59.818387 59.81941h0.130983V283.080264H86.723665v-79.023798z" fill="" p-id="14109"></path></svg><span>2023-03-12</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select: text;">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" style="user-select: text;"></path>
    <polyline points="14 2 14 8 20 8" style="user-select: text;"></polyline>
    <line x1="16" y1="13" x2="8" y2="13" style="user-select: text;"></line>
    <line x1="16" y1="17" x2="8" y2="17" style="user-select: text;"></line>
    <polyline points="10 9 9 9 8 9" style="user-select: text;"></polyline>
</svg><span>959字</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="12" r="9"></circle>
    <polyline points="12 7 12 12 15 15"></polyline>
</svg><span>5分钟</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="7" r="4"></circle>
    <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
</svg><span>helium</span></span>
      <span class="x-post-meta-item">
        &nbsp;<svg t="1720840393161" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18680" width="200" height="200"><path d="M995.125144 559.61812l-415.998603-415.998602A52.986489 52.986489 0 0 0 541.413335 127.99957H338.847348c-3.166656-26.559911-9.286635-51.046495-17.999939-71.333094C299.734146 7.333309 271.154242 0 256.00096 0c-13.939953 0-40.439864 6.339979-61.259794 48.806503-10.473298 21.366595-17.946606 48.966502-21.573261 79.193067H53.334974a53.393154 53.393154 0 0 0-53.333154 53.333154v360.078791a52.986489 52.986489 0 0 0 15.619948 37.713206l415.998602 415.998603a53.333154 53.333154 0 0 0 75.426413 0l26.286579-26.293245 26.286578 26.293245a53.426487 53.426487 0 0 0 16.719944 11.333295 21.333262 21.333262 0 0 0 36.079879 11.293295l382.705381-382.705381a53.399821 53.399821 0 0 0 0-75.426413z m-762.070774-491.998347C241.494342 50.373164 250.667645 42.666523 256.00096 42.666523c5.99998 0 16.573278 9.639968 25.646581 30.806564 6.493312 15.159949 11.333295 33.999886 14.146619 54.526483H216.16776c3.206656-23.419921 9.013303-44.359851 16.88661-60.41313z m243.819181 897.330319a10.666631 10.666631 0 0 1-15.079949 0l-415.998603-415.998603A10.573298 10.573298 0 0 1 42.668343 541.411515V181.332724a10.666631 10.666631 0 0 1 10.666631-10.666631h245.332509c0 47.853173-10.373298 92.15969-27.066575 115.632945-5.926647 8.326639-16.566611 14.186619-22.306592 16.113279C204.041135 314.752276 170.667913 356.218803 170.667913 405.331972c0 58.813136 47.853173 106.666308 106.666309 106.666308s106.666308-47.853173 106.666308-106.666308c0-47.086508-30.666564-87.139707-73.079754-101.246327C330.060711 272.705751 341.334007 223.692582 341.334007 170.666093h72.079758a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603a10.666631 10.666631 0 0 1 0 15.079949zM341.334007 405.331972a63.999785 63.999785 0 1 1-63.999785-63.999785 64.073118 64.073118 0 0 1 63.999785 63.999785z m263.539114 559.61812a10.666631 10.666631 0 0 1-15.079949 0L563.499927 938.663513l303.625647-303.61898a53.399821 53.399821 0 0 0 0-75.426413L478.16688 170.666093h63.246455a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603c0.239999 0.239999 0.466665 0.486665 0.666664 0.746664l0.086667 0.106666a10.666631 10.666631 0 0 1 0 13.373289l-0.086667 0.106666c-0.213333 0.259999-0.439999 0.506665-0.666664 0.746664z" fill="#5C5C66" p-id="18681"></path></svg>
        <ul class="post-tags-meta" style="display: inline-block;font-size: 14px;">
            <a href="https://helium-chain.github.io/tags/redis/" target="_blank" rel="noopener">Redis</a>
        </ul>
      </span>
      
      <span id="busuanzi_container_page_pv" class="x-post-meta-item">
        &nbsp;<svg t="1720844685710" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27237" width="200" height="200"><path d="M739.754667 574.08c-121.386667 45.610667-208.469333 169.813333-208.64 316.16 0 33.408 4.693333 65.493333 13.141333 95.914667H94.122667c-26.453333-43.52-41.685333-91.946667-41.685334-143.189334 0-185.173333 192.896-335.104 430.805334-335.104 96.256 0 184.832 24.746667 256.512 66.218667z m-280.490667-114.986667a214.869333 214.869333 0 0 1-214.869333-215.04A215.04 215.04 0 0 1 459.264 28.842667a215.04 215.04 0 0 1 215.04 215.210666 215.04 215.04 0 0 1-215.04 215.04zM974.506667 641.28c9.856 0 17.834667 7.466667 17.834666 16.64v59.989333c-0.341333 8.789333-7.850667 15.786667-17.28 16.085334-9.856 0.341333-18.176-6.826667-18.517333-16.085334v-20.053333l-99.114667 91.093333-0.256 0.256a18.474667 18.474667 0 0 1-14.848 4.352h-0.768a18.176 18.176 0 0 1-9.344-4.608l-0.938666-0.981333-85.930667-80.042667-123.562667 115.072a18.773333 18.773333 0 0 1-25.216 0 15.786667 15.786667 0 0 1 0-23.466666l136.149334-126.848 0.725333-0.597334a18.645333 18.645333 0 0 1 24.362667 0.512l87.253333 81.237334 86.058667-79.232h-21.248c-9.386667-0.298667-16.938667-7.338667-17.28-16.085334-0.341333-9.173333 7.381333-16.896 17.28-17.237333h64.64z m-367.146667 240h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v72.192a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042667-16.042666v-72.192c0-8.874667 7.210667-16.042667 16.042667-16.042667z m110.805333-106.666667h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v178.858667a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042666v-178.858667c0-8.874667 7.168-16.042667 16.042666-16.042667z m106.538667 80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v99.413333a16.042667 16.042667 0 0 1-16.042667 16.042667H824.746667a16.042667 16.042667 0 0 1-16.042667-16.042667v-99.413333c0-8.874667 7.168-16.042667 16.042667-16.042667z m110.165333-80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v179.413333a16.042667 16.042667 0 0 1-16.042667 16.042667h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042667v-179.413333c0-8.874667 7.210667-16.042667 16.042666-16.042667z" fill="#999999" p-id="27238"></path></svg>
        <span id="busuanzi_value_page_pv"></span>
      </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#string" aria-label="string">string</a><ul>
                            
                    <li>
                        <a href="#append" aria-label="APPEND">APPEND</a></li>
                    <li>
                        <a href="#decr" aria-label="DECR">DECR</a></li>
                    <li>
                        <a href="#decrby" aria-label="DECRBY">DECRBY</a></li>
                    <li>
                        <a href="#get" aria-label="GET">GET</a></li>
                    <li>
                        <a href="#getdel" aria-label="GETDEL">GETDEL</a></li>
                    <li>
                        <a href="#getex" aria-label="GETEX">GETEX</a></li>
                    <li>
                        <a href="#getrange" aria-label="GETRANGE">GETRANGE</a></li>
                    <li>
                        <a href="#getset" aria-label="GETSET">GETSET</a></li>
                    <li>
                        <a href="#incr" aria-label="INCR">INCR</a></li>
                    <li>
                        <a href="#incrby" aria-label="INCRBY">INCRBY</a></li>
                    <li>
                        <a href="#incrbyfloat" aria-label="INCRBYFLOAT">INCRBYFLOAT</a></li>
                    <li>
                        <a href="#lcs" aria-label="LCS">LCS</a></li>
                    <li>
                        <a href="#mget" aria-label="MGET">MGET</a></li>
                    <li>
                        <a href="#mset" aria-label="MSET">MSET</a></li>
                    <li>
                        <a href="#msetnx" aria-label="MSETNX">MSETNX</a></li>
                    <li>
                        <a href="#psetex" aria-label="PSETEX">PSETEX</a></li>
                    <li>
                        <a href="#set" aria-label="SET">SET</a></li>
                    <li>
                        <a href="#setex" aria-label="SETEX">SETEX</a></li>
                    <li>
                        <a href="#setnx" aria-label="SETNX">SETNX</a></li>
                    <li>
                        <a href="#setrange" aria-label="SETRANGE">SETRANGE</a></li>
                    <li>
                        <a href="#strlen" aria-label="STRLEN">STRLEN</a></li>
                    <li>
                        <a href="#substr" aria-label="SUBSTR">SUBSTR</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><ul>
<li>官网命令地址：<a href="https://redis.io/commands/?group=string" target="_blank" rel="noopener">https://redis.io/commands/?group=string</a>。</li>
<li>redis客户端查询命令：<strong><code>help @string</code></strong></li>
</ul>
<h2 id="string">string<a hidden class="anchor" aria-hidden="true" href="#string">#</a></h2>
<ol>
<li>string类型，也就是字符串类型，是Redis中最简单的存储类型。</li>
<li>其value是字符串，不过根据字符串的格式不同，又可以分为3类：
<ul>
<li>string：普通字符串。</li>
<li>int：整数类型，可以做自增，自减操作。</li>
<li>float：浮点类型，可以做自增.自减操作。</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">KEY</th>
<th style="text-align:center">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">message</td>
<td style="text-align:center">hello world</td>
</tr>
<tr>
<td style="text-align:center">number</td>
<td style="text-align:center">18</td>
</tr>
<tr>
<td style="text-align:center">score</td>
<td style="text-align:center">87.6</td>
</tr>
</tbody>
</table>
<h3 id="append">APPEND<a hidden class="anchor" aria-hidden="true" href="#append">#</a></h3>
<ol>
<li>
<p>将字符串附加到key的值。如果key不存在，则创建该key。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">APPEND key value</span>
</span></span></code></pre></div><ol start="4">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; EXISTS mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">redis&gt; APPEND mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">5</span>
</span></span><span class="line"><span class="cl">redis&gt; APPEND mykey <span class="s2">&#34; World&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">11</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello World&#34;</span>
</span></span></code></pre></div><h3 id="decr">DECR<a hidden class="anchor" aria-hidden="true" href="#decr">#</a></h3>
<ol>
<li>
<p>将key的整数值减1。如果key不存在，则使用0作为初始值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">DECR key</span>
</span></span></code></pre></div><ol start="4">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; DECR mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">9</span>
</span></span><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;234293482390480948029348230948&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; DECR mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>error<span class="o">)</span> value is not an integer or out of range
</span></span></code></pre></div><h3 id="decrby">DECRBY<a hidden class="anchor" aria-hidden="true" href="#decrby">#</a></h3>
<ol>
<li>
<p>从key的整数值中减去一个数字。如果key不存在，则使用0作为初始值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">DECRBY key decrement</span>
</span></span></code></pre></div><ol>
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; DECRBY mykey <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">7</span>
</span></span></code></pre></div><h3 id="get">GET<a hidden class="anchor" aria-hidden="true" href="#get">#</a></h3>
<ol>
<li>
<p>返回key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">GET key</span>
</span></span></code></pre></div><ol start="4">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; GET nonexisting
</span></span><span class="line"><span class="cl"><span class="o">(</span>nil<span class="o">)</span>
</span></span><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span></code></pre></div><ol start="5">
<li>Go代码：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">example_commands_test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s">&#34;github.com/redis/go-redis/v9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ExampleClient_Set_and_get</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">rdb</span> <span class="o">:=</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">redis</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Addr</span><span class="p">:</span>     <span class="s">&#34;localhost:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Password</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="c1">// no password docs
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">DB</span><span class="p">:</span>       <span class="mi">0</span><span class="p">,</span>  <span class="c1">// use default DB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;bike:1&#34;</span><span class="p">,</span> <span class="s">&#34;Process 134&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Err</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;OK&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">value</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;bike:1&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;The name of the bike is %s&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="getdel">GETDEL<a hidden class="anchor" aria-hidden="true" href="#getdel">#</a></h3>
<ol>
<li>
<p>在删除key后返回key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">GETDEL key</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETDEL mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>nil<span class="o">)</span>
</span></span></code></pre></div><h3 id="getex">GETEX<a hidden class="anchor" aria-hidden="true" href="#getex">#</a></h3>
<ol>
<li>
<p>在设置key的过期时间后返回key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">GETEX key </span><span class="err">[</span><span class="k">EX seconds </span><span class="err">|</span> <span class="k">PX milliseconds </span><span class="err">|</span> <span class="k">EXAT unix-time-seconds </span><span class="err">|</span>
</span></span><span class="line"><span class="cl">    <span class="k">PXAT unix-time-milliseconds </span><span class="err">|</span> <span class="k">PERSIST</span><span class="err">]</span>
</span></span></code></pre></div><ul>
<li><code>EX</code> seconds &ndash; 设置指定的过期时间，以秒为单位。</li>
<li><code>PX</code> milliseconds &ndash; 设置指定的过期时间，以毫秒为单位。</li>
<li><code>EXAT</code> timestamp-seconds &ndash; 设置key到期的指定Unix时间，以秒为单位。</li>
<li><code>PXAT</code> timestamp-milliseconds &ndash; 设置key到期的指定Unix时间，以毫秒为单位。</li>
<li><a href="https://redis.io/commands/persist" target="_blank" rel="noopener"><code>PERSIST</code></a> &ndash; 删除与该key关联的生存时间。</li>
</ul>
<ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETEX mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; TTL mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> -1
</span></span><span class="line"><span class="cl">redis&gt; GETEX mykey EX <span class="m">60</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; TTL mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">60</span>
</span></span></code></pre></div><h3 id="getrange">GETRANGE<a hidden class="anchor" aria-hidden="true" href="#getrange">#</a></h3>
<ol>
<li>
<p>返回存储在key中的字符串的子字符串。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">GETRANGE key start end</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;This is a string&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">0</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;This&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey -3 -1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;ing&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">0</span> -1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;This is a string&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">10</span> <span class="m">100</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;string&#34;</span>
</span></span></code></pre></div><h3 id="getset">GETSET<a hidden class="anchor" aria-hidden="true" href="#getset">#</a></h3>
<ol>
<li>
<p>将key设置为新值后返回key的前一个字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">GETSET key value</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; INCR mycounter
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">redis&gt; GETSET mycounter <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mycounter
</span></span><span class="line"><span class="cl"><span class="s2">&#34;0&#34;</span>
</span></span></code></pre></div><h3 id="incr">INCR<a hidden class="anchor" aria-hidden="true" href="#incr">#</a></h3>
<ol>
<li>
<p>将key的整数值加1。如果key不存在，则使用0作为初始值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">INCR key</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; INCR mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">11</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;11&#34;</span>
</span></span></code></pre></div><h3 id="incrby">INCRBY<a hidden class="anchor" aria-hidden="true" href="#incrby">#</a></h3>
<ol>
<li>
<p>将key的整数值增加一个数字。如果key不存在，则使用0作为初始值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">INCRBY key increment</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; INCRBY mykey <span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">15</span>
</span></span></code></pre></div><h3 id="incrbyfloat">INCRBYFLOAT<a hidden class="anchor" aria-hidden="true" href="#incrbyfloat">#</a></h3>
<ol>
<li>
<p>将key的浮点值增加一个数字。如果key不存在，则使用0作为初始值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">INCRBYFLOAT key increment</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey 10.50
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; INCRBYFLOAT mykey 0.1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;10.6&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; INCRBYFLOAT mykey -5
</span></span><span class="line"><span class="cl"><span class="s2">&#34;5.6&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; SET mykey 5.0e3
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; INCRBYFLOAT mykey 2.0e2
</span></span><span class="line"><span class="cl"><span class="s2">&#34;5200&#34;</span>
</span></span></code></pre></div><h3 id="lcs">LCS<a hidden class="anchor" aria-hidden="true" href="#lcs">#</a></h3>
<ol>
<li>
<p>查找最长的公共子字符串。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">LCS key1 key2 </span><span class="err">[</span><span class="k">LEN</span><span class="err">]</span> <span class="err">[</span><span class="k">IDX</span><span class="err">]</span> <span class="err">[</span><span class="k">MINMATCHLEN min-match-len</span><span class="err">]</span> <span class="err">[</span><span class="k">WITHMATCHLEN</span><span class="err">]</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">&gt; MSET key1 ohmytext key2 mynewtext
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl">&gt; LCS key1 key2
</span></span><span class="line"><span class="cl"><span class="s2">&#34;mytext&#34;</span>
</span></span></code></pre></div><pre tabindex="0"><code>&gt; LCS key1 key2 LEN
(integer) 6
</code></pre><pre tabindex="0"><code>&gt; LCS key1 key2 IDX
1) &#34;matches&#34;
2) 1) 1) 1) (integer) 4
        1) (integer) 7
        1) 1) (integer) 5
        1) (integer) 8
    2) 1) 1) (integer) 2
        2) (integer) 3
        1) 1) (integer) 0
        1) (integer) 1
3) &#34;len&#34;
4) (integer) 6
</code></pre><h3 id="mget">MGET<a hidden class="anchor" aria-hidden="true" href="#mget">#</a></h3>
<ol>
<li>
<p>自动返回一个或多个key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">MGET key </span><span class="err">[</span><span class="k">key </span><span class="err">...]</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET key1 <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; SET key2 <span class="s2">&#34;World&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; MGET key1 key2 nonexisting
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="s2">&#34;World&#34;</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>nil<span class="o">)</span>
</span></span></code></pre></div><h3 id="mset">MSET<a hidden class="anchor" aria-hidden="true" href="#mset">#</a></h3>
<ol>
<li>
<p>自动创建或修改一个或多个key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">MSET key value </span><span class="err">[</span><span class="k">key value </span><span class="err">...]</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; MSET key1 <span class="s2">&#34;Hello&#34;</span> key2 <span class="s2">&#34;World&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET key1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET key2
</span></span><span class="line"><span class="cl"><span class="s2">&#34;World&#34;</span>
</span></span></code></pre></div><h3 id="msetnx">MSETNX<a hidden class="anchor" aria-hidden="true" href="#msetnx">#</a></h3>
<ol>
<li>
<p>仅在不存在所有key时才自动修改一个或多个key的字符串值。（仅当key不存在时才会设置value）</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">MSETNX key value </span><span class="err">[</span><span class="k">key value </span><span class="err">...]</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; MSETNX key1 <span class="s2">&#34;Hello&#34;</span> key2 <span class="s2">&#34;there&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">redis&gt; MSETNX key2 <span class="s2">&#34;new&#34;</span> key3 <span class="s2">&#34;world&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">redis&gt; MGET key1 key2 key3
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="s2">&#34;there&#34;</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>nil<span class="o">)</span>
</span></span></code></pre></div><h3 id="psetex">PSETEX<a hidden class="anchor" aria-hidden="true" href="#psetex">#</a></h3>
<ol>
<li>
<p>设置key的字符串值和过期时间(以毫秒为单位)。如果key不存在，则创建该key。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">PSETEX key milliseconds value</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; PSETEX mykey <span class="m">1000</span> <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; PTTL mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">998</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span></code></pre></div><h3 id="set">SET<a hidden class="anchor" aria-hidden="true" href="#set">#</a></h3>
<ol>
<li>
<p>设置key的字符串值，忽略其类型。如果key不存在，则创建该key。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">SET key value </span><span class="err">[</span><span class="k">NX </span><span class="err">|</span> <span class="k">XX</span><span class="err">]</span> <span class="err">[</span><span class="k">GET</span><span class="err">]</span> <span class="err">[</span><span class="k">EX seconds </span><span class="err">|</span> <span class="k">PX milliseconds </span><span class="err">|</span>
</span></span><span class="line"><span class="cl">    <span class="k">EXAT unix-time-seconds </span><span class="err">|</span> <span class="k">PXAT unix-time-milliseconds </span><span class="err">|</span> <span class="k">KEEPTTL</span><span class="err">]</span>
</span></span></code></pre></div><ul>
<li><code>EX</code> seconds &ndash; 设置指定的过期时间，单位为秒(正整数)。</li>
<li><code>PX</code> milliseconds &ndash; 设置指定的过期时间，单位为毫秒(正整数)。</li>
<li><code>EXAT</code> timestamp-seconds &ndash; 设置key到期的指定Unix时间，以秒为单位(一个正整数)。</li>
<li><code>PXAT</code> timestamp-milliseconds &ndash; 设置key到期的指定Unix时间，以毫秒为单位(正整数)。</li>
<li><code>NX</code> &ndash; 仅在key不存在时设置该key。</li>
<li><code>XX</code> &ndash; 只有当key已经存在时才设置它。</li>
<li><code>KEEPTTL</code> &ndash; 保留与该key关联的生存时间。</li>
<li><code>GET</code> &ndash; 返回存储在key处的旧字符串，如果key不存在则返回nil。如果存储在key处的值不是字符串，则返回错误并终止&rsquo; SET &lsquo;。</li>
</ul>
<ol start="3">
<li>
<p>注意:由于SET命令选项可以取代SETNX, SETEX, PSETEX, GETSET，在Redis的未来版本中，这些命令可能会被弃用并最终被删除。</p>
</li>
<li>
<p>示例：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; SET anotherkey <span class="s2">&#34;will expire in a minute&#34;</span> EX <span class="m">60</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span></code></pre></div><ol start="5">
<li>Go代码：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">example_commands_test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s">&#34;github.com/redis/go-redis/v9&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ExampleClient_Set_and_get</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">rdb</span> <span class="o">:=</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">redis</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Addr</span><span class="p">:</span>     <span class="s">&#34;localhost:6379&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Password</span><span class="p">:</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="c1">// no password docs
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">DB</span><span class="p">:</span>       <span class="mi">0</span><span class="p">,</span>  <span class="c1">// use default DB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;bike:1&#34;</span><span class="p">,</span> <span class="s">&#34;Process 134&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">).</span><span class="nf">Err</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;OK&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">value</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">rdb</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;bike:1&#34;</span><span class="p">).</span><span class="nf">Result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;The name of the bike is %s&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="setex">SETEX<a hidden class="anchor" aria-hidden="true" href="#setex">#</a></h3>
<ol>
<li>
<p>设置key的字符串值和过期时间。如果key不存在，则创建该key。</p>
</li>
<li>
<p>语法：等价于<code>SET key value EX seconds</code></p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">SETEX key seconds value</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SETEX mykey <span class="m">10</span> <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; TTL mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">10</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span></code></pre></div><h3 id="setnx">SETNX<a hidden class="anchor" aria-hidden="true" href="#setnx">#</a></h3>
<ol>
<li>
<p>仅当key不存在时才设置该key的字符串值。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">SETNX key value</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SETNX mykey <span class="s2">&#34;Hello&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">redis&gt; SETNX mykey <span class="s2">&#34;World&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">redis&gt; GET mykey
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello&#34;</span>
</span></span></code></pre></div><h3 id="setrange">SETRANGE<a hidden class="anchor" aria-hidden="true" href="#setrange">#</a></h3>
<ol>
<li>
<p>将字符串值的一部分以偏移量覆盖另一部分。如果key不存在，则创建该key。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">SETRANGE key offset value</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET key1 <span class="s2">&#34;Hello World&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; SETRANGE key1 <span class="m">6</span> <span class="s2">&#34;Redis&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">11</span>
</span></span><span class="line"><span class="cl">redis&gt; GET key1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Hello Redis&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SETRANGE key2 <span class="m">6</span> <span class="s2">&#34;Redis&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">11</span>
</span></span><span class="line"><span class="cl">redis&gt; GET key2
</span></span><span class="line"><span class="cl"><span class="s2">&#34;Redis&#34;</span>
</span></span></code></pre></div><h3 id="strlen">STRLEN<a hidden class="anchor" aria-hidden="true" href="#strlen">#</a></h3>
<ol>
<li>
<p>返回字符串值的长度。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">STRLEN key</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;Hello world&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; STRLEN mykey
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">11</span>
</span></span><span class="line"><span class="cl">redis&gt; STRLEN nonexisting
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">0</span>
</span></span></code></pre></div><h3 id="substr">SUBSTR<a hidden class="anchor" aria-hidden="true" href="#substr">#</a></h3>
<ol>
<li>
<p>从字符串值返回子字符串。</p>
</li>
<li>
<p>语法：</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ebnf" data-lang="ebnf"><span class="line"><span class="cl"><span class="k">SUBSTR key start end</span>
</span></span></code></pre></div><ol start="3">
<li>示例：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">redis&gt; SET mykey <span class="s2">&#34;This is a string&#34;</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;OK&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">0</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;This&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey -3 -1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;ing&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">0</span> -1
</span></span><span class="line"><span class="cl"><span class="s2">&#34;This is a string&#34;</span>
</span></span><span class="line"><span class="cl">redis&gt; GETRANGE mykey <span class="m">10</span> <span class="m">100</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;string&#34;</span>
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://helium-chain.github.io/tags/redis/">Redis</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://helium-chain.github.io/posts/redis/command/">
    <span class="title">« 上一页</span>
    <br>
    <span>redis 通用命令</span>
  </a>
  <a class="next" href="https://helium-chain.github.io/posts/redis/hash/">
    <span class="title">下一页 »</span>
    <br>
    <span>redis hash</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    
    <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <span id="busuanzi_container_site_uv">
        本站访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
    </div>
        <span>Copyright © 2024 蜀ICP备2024091074号 <a href="#">heliu's blog</a>. All rights reserved</span>  
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Done';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

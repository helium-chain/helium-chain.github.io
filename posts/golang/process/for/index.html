<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>流程控制(循环语句) | Helium</title>
<meta name="keywords" content="golang, 流程控制">
<meta name="description" content="💥本文章所有相关go代码参考自go 1.18&#43;版本">
<meta name="author" content="helium">
<link rel="canonical" href="https://heliu.site/posts/golang/process/for/">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="referrer" content="no-referrer-when-downgrade">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://heliu.site/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://heliu.site/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://heliu.site/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://heliu.site/apple-touch-icon.png">
<link rel="mask-icon" href="https://heliu.site/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://heliu.site/posts/golang/process/for/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono-nl.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css" />
    <style>
        body {
            font-family: "LXGW WenKai Lite", sans-serif;
            font-family: "LXGW WenKai Screen", sans-serif;
        }
    </style>
</head>
</html>

  

<meta property="og:title" content="流程控制(循环语句)" />
<meta property="og:description" content="💥本文章所有相关go代码参考自go 1.18&#43;版本" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://heliu.site/posts/golang/process/for/" />
<meta property="og:image" content="https://heliu.site/favicon-32x32.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-20T00:00:00+00:00" /><meta property="og:site_name" content="Helium" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://heliu.site/favicon-32x32.png" />
<meta name="twitter:title" content="流程控制(循环语句)"/>
<meta name="twitter:description" content="💥本文章所有相关go代码参考自go 1.18&#43;版本"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Article",
      "item": "https://heliu.site/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Golang 合集",
      "item": "https://heliu.site/posts/golang/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "第3章 流程控制",
      "item": "https://heliu.site/posts/golang/process/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "流程控制(循环语句)",
      "item": "https://heliu.site/posts/golang/process/for/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "流程控制(循环语句)",
  "name": "流程控制(循环语句)",
  "description": "💥本文章所有相关go代码参考自go 1.18+版本",
  "keywords": [
    "golang", "流程控制"
  ],
  "articleBody": "for计数器迭代 1 for 初始化语句; 条件语句; 修饰语句 {} 由三部分组成循环的头部，相互之间使用英文分号（;）隔开，但并不需要括号将它们括起来。 区别其他语言形式如【for (初始化语句; 条件语句; 修饰语句) {} 】其实使用括号包起来也可以。 同时使用多个计数器 这得益于Go语言具有平行赋值的特性。 区别总结： for关键字后面不需要括号。 初始化语句和修饰语句可以使用平行赋值的特性。 1 2 3 4 // 注意这里的 【初始化语句】 和 【修饰语句】 // 初始化语句：i, j := 0, N // 修饰语句：i, j = i+1, j-1 for i, j := 0, N; i \u003c j; i, j = i+1, j-1 {} for{} 可以认为这是没有【初始化语句】和【修饰语句】的for结构，因此;;便是多余的了。 即使是条件语句也可以省略，如【i: = 0; ;i++】或【for {} 或 for ;; {}】多余的;;会在使用时移除，这些循环的本质就是无限循环。 也可以写成【for true {}】一般都是直接写成【for {}】。 如果for循环的头部没有条件语句，默认为true和switch没有表达式类似默认为true。 一般Go处理类似情况的常用法则，因此循环体内必须有相关的条件判断以确保会在某个时刻退出循环。 区别总结： 【for {}】我们可以理解为【for 条件语句 {}】这种形式，省略了初始化语句和修饰语句，与其他语言【while (true) {}】用法类似。 1 for {} // 等价于 for true {} 使用示例 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 package main import ( \"fmt\" ) func main() { // 创建[]int切片 a := []int{1,2,3,4,5,6} // 交换切片首尾数据 for i,j := 0,len(a)-1; i \u003c j; i,j = i+1,j-1 { a[i], a[j] = a[j], a[i] } fmt.Println(a) // [6 5 4 3 2 1] // 多重循环满足条件退出 for j := 0; j \u003c 5; j++ { for i := 0; i \u003c 10; i++ { if i \u003e 5 { break } fmt.Printf(\"%d \", i) } fmt.Println() } // Output: // [6 5 4 3 2 1] // 0 1 2 3 4 5 // 0 1 2 3 4 5 // 0 1 2 3 4 5 // 0 1 2 3 4 5 // 0 1 2 3 4 5 } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 s := \"abc\" // 1) 常见的 for 循环，支持初始化语句 for i,n := 0,len(s); i \u003c n; i++ { fmt.Printf(\"%c\\n\", s[i]) } // Output: // a // b // c n := len(s) // 2) 替代 while (n \u003e 0) {} for n \u003e 0 { fmt.Println(s[n-1]) n-- } // Output: // 99 // 98 // 97 // 3) 替换 while (true) {} 或 for (;;) {} for { fmt.Println(s) } // Output: // abc // ... 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 package main import \"fmt\" func main() { var b int = 15 var a int // [1, 2, 3, 5, 0, 0] numbers := [6]int{1, 2, 3, 5} // 1) for 循环 for a := 0; a \u003c 10; a++ { fmt.Printf(\"a 的值为：%d\\n\", a) } // 2) for true for a \u003c b { a++ fmt.Printf(\"a 的值为：%d\\n\", a) } // 3) for range for i, x := range numbers { fmt.Printf(\"第 %d 位 x 的值 = %d\\n\", i, x) } // Output: // a 的值为：0 // a 的值为：1 // a 的值为：2 // a 的值为：3 // a 的值为：4 // a 的值为：5 // a 的值为：6 // a 的值为：7 // a 的值为：8 // a 的值为：9 // a 的值为：1 // a 的值为：2 // a 的值为：3 // a 的值为：4 // a 的值为：5 // a 的值为：6 // a 的值为：7 // a 的值为：8 // a 的值为：9 // a 的值为：10 // a 的值为：11 // a 的值为：12 // a 的值为：13 // a 的值为：14 // a 的值为：15 // 第 0 位 x 的值 = 1 // 第 1 位 x 的值 = 2 // 第 2 位 x 的值 = 3 // 第 3 位 x 的值 = 5 // 第 4 位 x 的值 = 0 // 第 5 位 x 的值 = 0 } 判断一个数是否是质数 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 package main import ( \"fmt\" \"math\" ) func main() { for i := uint64(2) ; i \u003c 100; i++ { if isPrime(i) { fmt.Printf(\"%d 是素数\\n\", i) } } } // isPrime 判断num是否是素数(质数) 素数只能被1和本身整除 func isPrime(num uint64) bool { // 假设A是条件，B是结论 // 由A可以推出B，由B可以推出A，则A是B的 (充要条件) // 由A可以推出B，由B不可以推出A，则A是B的 (充分不必要条件) // 由A不可以推出B，由B可以推出A，则A是B的 (必要不充分条件) // 由A不可以推出B，由B不可以推出A，则A是B的 (既不充分也不必要条件) // 大于等于5的质数一定和6的倍数相邻 (充分不必要条件) // 与6的倍数相邻的数不一定是大于等于5的质数 // 证明：(n \u003e= 1, n属于自然数) // 6n + 0\t=\u003e 2*3*n\t=\u003e 合数 // 6n + 1 -----\u003e 可能是素数(7)，也可能是合数(25) // 6n + 2\t=\u003e 2*(3n+1)\t=\u003e 合数 // 6n + 3\t=\u003e 3*(2n+1)\t=\u003e 合数 // 6n + 4\t=\u003e 2*(3n+2)\t=\u003e 合数 // 6n + 5 -----\u003e 可能是素数(11)，也可能是合数(35) // 上面的列表能表示所有\u003e=5的自然数，因此大于等于5的质数一定和6的倍数相邻 // 5以下的质数分别为 2和3 if num == 2 || num == 3 { return true } // 大于等于5的质数一定和6的倍数相邻，相反不在6的倍数两侧的一定是合数 // 这里排除了所有被2和3整除的合数，因此后面的for循环只需验证是否能被其他质数整除即可 if num % 6 != 1 \u0026\u0026 num % 6 != 5 { return false } // 一个数能进行因式分解，那么分解时得到的两个数 // 一定是一个小于等于 sqrt(n) 和 一个大于等于 sqrt(n) // 故遍历循环的次数就是sqrt(n)向上取整次数 tmp := uint64(math.Ceil(math.Sqrt(float64(num)))) // 与6的倍数相邻的数不一定是大于等于5的质数(质数) var i uint64 = 5 // 这里i表示第一个素数5 // 这里的i += 6包含所有当前num因式分解的所有公因式，也就是所有的素数 for ; i \u003c= tmp; i += 6 { // i 和 i + 2 是6的倍数前后两个数字 // 判断num是否能因式分解，能进行因式分解则是合数，否则是素数 if num % i == 0 || num % (i + 2) == 0 { return false } } return true } /* Output: 2 是素数 3 是素数 5 是素数 7 是素数 11 是素数 13 是素数 17 是素数 19 是素数 23 是素数 29 是素数 31 是素数 37 是素数 41 是素数 43 是素数 47 是素数 53 是素数 59 是素数 61 是素数 67 是素数 71 是素数 73 是素数 79 是素数 83 是素数 89 是素数 97 是素数 */ for-range 【for - range】结构是Go语言特有的一种迭代结构，它在许多情况下都非常有用。 可以迭代任何一个集合，也包括数组(array)和字典(map)和字符串(string)和通道(channel)和切片(slice)，同时可以获得每次迭代所对应的索引和值。 1 2 // ix：索引 val：值 for ix, val := range coll {} 如果只需要range里的索引值，可以只写key省略value。 1 for key := range coll {} val值始终为集合中对应索引的副本，因此它一般只具有只读性质。 对它所有的任何修改都不会影响到集合中原有的值。 如果val为指针，则会产生指针的副本，依旧可以修改集合中的原值。 range遍历的也是副本。 for循环的range格式可以对slice、map、array、string、chan等进行迭代循环。 Golang的range类似迭代器操作，返回【(索引, 值) 】或【(键, 值)】。 类型 key value 描述 string index 是 int 类型 s[index] 是 rune 类型 字符串 array/slice index 是 int 类型 s[index] 是存储的元素类型 数组/切片 map key m[key] 是map存储类型 字典，遍历顺序是随机的 channel element 是chan存储类型 通道 可以忽略不想要的返回值，或使用_这个特殊变量。注意_是内置已经声明的，因此不能使用这种形式_:=1，不能使用:=应该使用=。 使用示例 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 package main import \"fmt\" func main() { s := \"abc\" // range 变量字符串是按照Unicode遍历的 // 1) 忽略第二个参数, 支持 string/array/slice/map for i := range s { // 【int, rune】 fmt.Printf(\"%d %c\\n\", i, s[i]) } // Output: // 0 a // 1 b // 2 c // 2) 忽略 第一个参数 for _, c := range s { // 【int, rune】 fmt.Println(c) } // Output: // 97 // 98 // 99 // 3) 忽略全部返回值，仅迭代 n := 0 // s为字符串时，统计rune字符数量 for range s { // 【int, rune】 n++ } fmt.Println(n) m := map[string]int{\"a\":1, \"b\":2} // 返回 (key, value) // 遍历map，顺序是随机的 for k, v := range m { // 【string, int】 fmt.Println(k, v) } // Output: // b 2 // a 1 } for-range会拷贝遍历对象 注意下面的代码range复制了a对象数据所以输出结果和预期的不同。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 package main import ( \"fmt\" \"unsafe\" ) func main() { // 数组布局 内存中连续分配 // 地址 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25\t字节B // |\u003c---a[0]----\u003e| |\u003c-------a[1]------\u003e| |\u003c--------a[2]------\u003e| a := [3]int{0, 1, 2} // 查看a的内存占用大小 int 在64位系统下占8字节 3*8 = 24字节 fmt.Println(unsafe.Sizeof(a)) // 24 // index、value 都是从复制品中取出 for i, v := range a { // 【int, int】 // 在修改前，我们先修改原数组 if i == 0 { a[1], a[2] = 999, 999 // 确认修改有效，输出[0, 999, 999] fmt.Println(a) // [0 999 999] } // 使用复制品中取出的 value 修改原数组 a[i] = v + 100 } // 注意这里的输出 fmt.Println(a) // [100 101 102] // Output: // 24 // [0 999 999] // [100 101 102] } for-range遍历切片 改用引用类型，其底层数据不会被复制，注意下面代码。 另外两种引用类型map、channel是指针包装，而不像slice是struct。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package main import \"fmt\" func main() { // 布局 type slice struct { pointer, len, cap } // slice pointer len cap // | 5 5 // v // array 0 1 2 3 4 5 ... // 假设以下切片的结构如下struct {0x01f00, 5, 5} s := []int{1, 2, 3, 4, 5} // range遍历切片，复制结构体struct {0x01f00, 5, 5}用于遍历 // 遍历时指向pointer指针移动获取数据 for i, v := range s { // 【int, int】 if i == 0 { // 修改s的切片结构为struct {0x01f00, 3, 5}，而复制的副本不变struct {0x01f00, 5, 5} s = s[:3] // [low:high:max] len=high-low、cap=max-low // 修改[0x01f00+2*8,0x01f00+3*8)地址位置从3修改为100 s[2] = 100 } fmt.Println(i, v) } fmt.Println(s) // Output: // 0 1 // 1 2 // 2 100 // 3 4 // 4 5 // [1 2 100] } for-range遍历字符串 字符串是Unicode编码的字符集合使用for-range结构迭代字符串。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import ( \"fmt\" ) func main() { for pos, char := range \"语言\\x80雨\" { // 【int, rune】 fmt.Printf(\"%d character %#U starts at byte position %d\\n\", char, char, pos) } // Output: // 35821 character U+8BED '语' starts at byte position 0 // 35328 character U+8A00 '言' starts at byte position 3 // 65533 character U+FFFD '�' starts at byte position 6 // 38632 character U+96E8 '雨' starts at byte position 7 } 注意 遍历切片：下面程序上有没有可优化的空间？ 1 2 3 4 5 func rangeTest(slice []int) { for index, value := range slice { _, _ = index, value } } 解析：使用 range 遍历，每次迭代会对 index,value 进行赋值，若数据很大或 value 类型为 string 时，对 value 的赋值操作可以进行优化，即忽略 value 值，使用 slice[index] 来获取 value 的值。 解析：使用 range 遍历，每次迭代会对 index,value 进行赋值，若数据很大或 value 类型为 string 时，对 value 的赋值操作可以进行优化，即忽略 value 值，使用 slice[index] 来获取 value 的值。 1 2 3 4 5 func rangeTest(slice []int) { for index, _ := range slice { _, _ = index, slice[index] } } 动态遍历：下面程序上能否正常结束？ 1 2 3 4 5 6 7 8 9 func main() { v := []int{1,2,3} // 我们知道range遍历的是v的副本，也就是 v1 := v 遍历的是v1 所以下面只会循环3次 for i := range v { v = append(v, i) } fmt.Println(v) // [1 2 3 0 1 2] // 最后变量完 v = []int{1,2,3,0,1,2} } 解析：会正常结束。循环内再改变切片的长度，不影响循环次数，循环次数在循环开始前就已经是确定了的。 遍历Map：下面程序上有没有可优化的空间？ 1 2 3 4 5 func rangeTest(mapTest map[int]string) { for key, _ := range mapTest { _, _ = key, mapTest[key] } } 解析：使用 range 遍历，根据第一题经验，我们根据 key 值来获取value 的值，看似减少了一次赋值，但使用 mapTest[key] 来获取 value 值的性能消耗可能高于赋值消耗。能否优化取决于 map 所存储数据结构特征，应结合实际情况进行。 我们知道mapTest[key]的取值是一个非常复杂的函数调用，mapTest[key]的使用反而会增加负担。 参考 range 实现原理 ",
  "wordCount" : "1782",
  "inLanguage": "zh",
  "image": "https://heliu.site/favicon-32x32.png","datePublished": "2019-09-20T00:00:00Z",
  "dateModified": "2020-07-20T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "helium"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://heliu.site/posts/golang/process/for/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Helium",
    "logo": {
      "@type": "ImageObject",
      "url": "https://heliu.site/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://heliu.site/" accesskey="h" title="Blog (Alt + H)">
                <img src="https://heliu.site/helium.png" alt="" aria-label="logo"
                    height="35">Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://heliu.site/" title="主页">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://heliu.site/posts" title="文章">
                    <span>Article</span>
                </a>
            </li>
            <li>
                <a href="https://heliu.site/archives" title="时间轴">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://heliu.site/tags/" title="标签">
                    <span>Tag</span>
                </a>
            </li>
            <li>
                <a href="https://heliu.site/search/" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://heliu.site/support" title="打赏">
                    <span>🫶Help</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">


<article class="post" autonumbering>
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://heliu.site/">主页</a>&nbsp;»&nbsp;<a href="https://heliu.site/posts/">Article</a>&nbsp;»&nbsp;<a href="https://heliu.site/posts/golang/">Golang 合集</a>&nbsp;»&nbsp;<a href="https://heliu.site/posts/golang/process/">第3章 流程控制</a></div>
    <h1 class="post-title entry-hint-parent">
      流程控制(循环语句)
    </h1>
    <div class="post-description">
      💥本文章所有相关go代码参考自go 1.18&#43;版本
    </div>
    <div class="post-meta">










<span class="x-post-meta-item"><svg t="1720837714681" class="icon" viewBox="0 0 1084 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7520" width="200" height="200"><path d="M123.47509 1023.984942a123.565437 123.565437 0 0 1-123.505206-123.32451V243.863302A123.565437 123.565437 0 0 1 123.47509 120.568908h171.630374V26.06529a26.050232 26.050232 0 0 1 52.070349 0v94.503618h377.592848V26.06529a26.050232 26.050232 0 0 1 52.100464 0v94.503618h183.797189A123.565437 123.565437 0 0 1 1084.171519 243.863302v656.79713A123.565437 123.565437 0 0 1 960.666314 1023.984942H123.47509z m-71.404741-123.32451A71.434857 71.434857 0 0 0 123.47509 971.974825h837.191224a71.434857 71.434857 0 0 0 71.404741-71.314393V442.326922l-946.361273-3.824716a25.598494 25.598494 0 0 1-5.84248-0.692665l-27.796953-6.444798v469.295689zM123.47509 172.579025a71.434857 71.434857 0 0 0-71.404741 71.284277v149.736133l27.796953-6.444797a26.080348 26.080348 0 0 1 5.902712-0.662549l946.301041 3.824716V243.863302a71.404741 71.404741 0 0 0-71.404741-71.284277h-180.183284l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.261043 26.261043 0 0 1-23.520499-14.786895l-6.173754-12.859479H350.819834l-6.173754 12.859479a26.200812 26.200812 0 0 1-23.490383 14.786895 26.230928 26.230928 0 0 1-23.520499-14.786895l-6.173755-12.859479H123.47509z m156.150814 578.827128a26.050232 26.050232 0 0 1-26.050232-25.990001c0-14.335157 11.68496-26.020116 26.050232-26.020116h521.697312c14.365273 0 26.050232 11.68496 26.050233 26.020116a26.050232 26.050232 0 0 1-26.050233 25.990001H279.625904z" fill="#3D3F42" p-id="7521"></path></svg><span>2019-09-20</span></span>&nbsp;<span class="x-post-meta-item"><svg t="1720839329181" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14106" width="200" height="200"><path d="M699.270662 190.485379c-0.411369 0-0.821715 0.011256-1.227967 0.032746H507.034407a23.041786 23.041786 0 0 0-1.221828-0.031723c-12.779048 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.360975 23.141046 23.140023 23.141046v0.032746h193.458083v-0.032746c12.780071 0 23.141046-10.359952 23.141047-23.141046 0-12.780071-10.360975-23.140023-23.141047-23.140023zM979.215516 724.005508c0-142.090159-115.186416-257.277598-257.277598-257.277598-72.245418 0-137.532353 29.777187-184.262654 77.725223l45.868677 31.474852c36.227086-33.873482 84.882226-54.617945 138.393977-54.617945 111.945605 0 202.696492 90.750887 202.696492 202.695468h-43.01263l70.331835 104.289228 70.331835-104.289228H979.215516z" fill="" p-id="14107"></path><path d="M748.885664 588.843132c0-14.881942-12.06785-26.945699-26.947746-26.945698-14.883989 0-26.947745 12.063757-26.947745 26.945698v135.164423c0 14.879895 12.063757 26.945699 26.947745 26.945699h107.786889c14.881942 0 26.945699-12.063757 26.945698-26.945699s-12.063757-26.945699-26.945698-26.945699h-80.839143V588.843132zM721.937918 926.702c-111.947651 0-202.696492-90.74884-202.696492-202.696492 0-0.144286 0.004093-0.285502 0.004094-0.429788h43.004443l-70.330812-104.289228-70.331835 104.289228h43.075051c0 0.144286-0.00307 0.285502-0.00307 0.429788 0 142.091182 115.187439 257.279644 257.278621 257.279645 72.241324 0 137.530306-29.77821 184.260607-77.727269l-45.86663-31.474852c-36.227086 33.873482-84.884272 54.618968-138.393977 54.618968zM694.633039 423.38066c-1.354857-11.487635-11.120268-20.400632-22.972201-20.400632H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.138999 0 12.781094 10.359952 23.141046 23.140023 23.141047H596.949252c30.209022-13.81668 63.104223-22.76754 97.683787-25.879414zM438.548616 623.143333H206.362486c-12.780071 0-23.140023 10.358929-23.140023 23.140023 0 12.780071 10.359952 23.140023 23.140023 23.140023h219.956598a298.463626 298.463626 0 0 1 12.229532-46.280046zM506.934123 513.062192H206.362486c-12.780071 0-23.140023 10.359952-23.140023 23.139 0 12.781094 10.359952 23.140023 23.140023 23.140023H469.936487a302.241672 302.241672 0 0 1 36.997636-46.279023z" fill="" p-id="14108"></path><path d="M442.765661 835.277778a298.531164 298.531164 0 0 1-14.365173-46.150087H146.542052v-0.065491c-33.036417 0-59.81941-26.78197-59.81941-59.819411V329.36031h704.907545v100.905154a298.561863 298.561863 0 0 1 46.150086 14.996552V194.619536h-0.162706c0-53.422723-43.307342-96.728018-96.730065-96.728018h-68.89409V84.418668c0-33.037441-26.782993-59.81941-59.81941-59.81941v-0.361227h-18.87079v0.032745c-33.038464 0-59.820434 26.78197-59.820433 59.819411 0 0.109494 0.008186 0.218988 0.008186 0.328481h-0.339738v13.47285H345.203648V84.418668c0-33.037441-26.782993-59.81941-59.819411-59.81941v-0.361227h-18.872836v0.032745c-33.036417 0-59.81941 26.78197-59.81941 59.819411 0 0.109494 0.007163 0.218988 0.008186 0.328481h-0.339737v13.47285h-69.189826c-53.4217 0-96.729042 43.306318-96.729041 96.728018 0 1.701758 0.045025 3.39226 0.132006 5.071505v533.785166a98.051153 98.051153 0 0 0-0.132006 5.071506c0 53.4217 43.307342 96.728018 96.729041 96.728018v0.001023h305.595047zM86.723665 204.056466c0-33.037441 26.782993-59.81941 59.819411-59.819411 0.044002 0 0.086981 0.00307 0.130983 0.00307v-0.068561h105.968473V94.874811h0.032746a22.807449 22.807449 0 0 1-0.032746-1.215688c0-12.779048 10.360975-23.140023 23.140023-23.140023s23.140023 10.360975 23.140023 23.140023c0 0.408299-0.010233 0.812505-0.031722 1.215688h0.031722v49.297776h280.508696V94.874811h0.032745a22.807449 22.807449 0 0 1-0.032745-1.215688c0-12.779048 10.361999-23.140023 23.140023-23.140023 12.780071 0 23.141046 10.360975 23.141046 23.140023 0 0.408299-0.011256 0.812505-0.032746 1.215688h0.032746v49.297776h106.10048v0.065492c33.035394 0 59.818387 26.780947 59.818387 59.81941h0.130983V283.080264H86.723665v-79.023798z" fill="" p-id="14109"></path></svg><span>2020-07-20</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select: text;">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" style="user-select: text;"></path>
    <polyline points="14 2 14 8 20 8" style="user-select: text;"></polyline>
    <line x1="16" y1="13" x2="8" y2="13" style="user-select: text;"></line>
    <line x1="16" y1="17" x2="8" y2="17" style="user-select: text;"></line>
    <polyline points="10 9 9 9 8 9" style="user-select: text;"></polyline>
</svg><span>1782字</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="12" r="9"></circle>
    <polyline points="12 7 12 12 15 15"></polyline>
</svg><span>9分钟</span></span>&nbsp;<span class="x-post-meta-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
     stroke-linecap="round" stroke-linejoin="round">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <circle cx="12" cy="7" r="4"></circle>
    <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
</svg><span>helium</span></span>
      <span class="x-post-meta-item">
        &nbsp;<svg t="1720840393161" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18680" width="200" height="200"><path d="M995.125144 559.61812l-415.998603-415.998602A52.986489 52.986489 0 0 0 541.413335 127.99957H338.847348c-3.166656-26.559911-9.286635-51.046495-17.999939-71.333094C299.734146 7.333309 271.154242 0 256.00096 0c-13.939953 0-40.439864 6.339979-61.259794 48.806503-10.473298 21.366595-17.946606 48.966502-21.573261 79.193067H53.334974a53.393154 53.393154 0 0 0-53.333154 53.333154v360.078791a52.986489 52.986489 0 0 0 15.619948 37.713206l415.998602 415.998603a53.333154 53.333154 0 0 0 75.426413 0l26.286579-26.293245 26.286578 26.293245a53.426487 53.426487 0 0 0 16.719944 11.333295 21.333262 21.333262 0 0 0 36.079879 11.293295l382.705381-382.705381a53.399821 53.399821 0 0 0 0-75.426413z m-762.070774-491.998347C241.494342 50.373164 250.667645 42.666523 256.00096 42.666523c5.99998 0 16.573278 9.639968 25.646581 30.806564 6.493312 15.159949 11.333295 33.999886 14.146619 54.526483H216.16776c3.206656-23.419921 9.013303-44.359851 16.88661-60.41313z m243.819181 897.330319a10.666631 10.666631 0 0 1-15.079949 0l-415.998603-415.998603A10.573298 10.573298 0 0 1 42.668343 541.411515V181.332724a10.666631 10.666631 0 0 1 10.666631-10.666631h245.332509c0 47.853173-10.373298 92.15969-27.066575 115.632945-5.926647 8.326639-16.566611 14.186619-22.306592 16.113279C204.041135 314.752276 170.667913 356.218803 170.667913 405.331972c0 58.813136 47.853173 106.666308 106.666309 106.666308s106.666308-47.853173 106.666308-106.666308c0-47.086508-30.666564-87.139707-73.079754-101.246327C330.060711 272.705751 341.334007 223.692582 341.334007 170.666093h72.079758a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603a10.666631 10.666631 0 0 1 0 15.079949zM341.334007 405.331972a63.999785 63.999785 0 1 1-63.999785-63.999785 64.073118 64.073118 0 0 1 63.999785 63.999785z m263.539114 559.61812a10.666631 10.666631 0 0 1-15.079949 0L563.499927 938.663513l303.625647-303.61898a53.399821 53.399821 0 0 0 0-75.426413L478.16688 170.666093h63.246455a10.573298 10.573298 0 0 1 7.539974 3.126656l415.998603 415.998603c0.239999 0.239999 0.466665 0.486665 0.666664 0.746664l0.086667 0.106666a10.666631 10.666631 0 0 1 0 13.373289l-0.086667 0.106666c-0.213333 0.259999-0.439999 0.506665-0.666664 0.746664z" fill="#5C5C66" p-id="18681"></path></svg>
        <ul class="post-tags-meta" style="display: inline-block;font-size: 14px;">
            <a href="https://heliu.site/tags/golang/" target="_blank" rel="noopener">Golang</a>
            <a href="https://heliu.site/tags/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" target="_blank" rel="noopener">流程控制</a>
        </ul>
      </span>
      
      <span id="busuanzi_container_page_pv" class="x-post-meta-item">
        &nbsp;<svg t="1720844685710" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27237" width="200" height="200"><path d="M739.754667 574.08c-121.386667 45.610667-208.469333 169.813333-208.64 316.16 0 33.408 4.693333 65.493333 13.141333 95.914667H94.122667c-26.453333-43.52-41.685333-91.946667-41.685334-143.189334 0-185.173333 192.896-335.104 430.805334-335.104 96.256 0 184.832 24.746667 256.512 66.218667z m-280.490667-114.986667a214.869333 214.869333 0 0 1-214.869333-215.04A215.04 215.04 0 0 1 459.264 28.842667a215.04 215.04 0 0 1 215.04 215.210666 215.04 215.04 0 0 1-215.04 215.04zM974.506667 641.28c9.856 0 17.834667 7.466667 17.834666 16.64v59.989333c-0.341333 8.789333-7.850667 15.786667-17.28 16.085334-9.856 0.341333-18.176-6.826667-18.517333-16.085334v-20.053333l-99.114667 91.093333-0.256 0.256a18.474667 18.474667 0 0 1-14.848 4.352h-0.768a18.176 18.176 0 0 1-9.344-4.608l-0.938666-0.981333-85.930667-80.042667-123.562667 115.072a18.773333 18.773333 0 0 1-25.216 0 15.786667 15.786667 0 0 1 0-23.466666l136.149334-126.848 0.725333-0.597334a18.645333 18.645333 0 0 1 24.362667 0.512l87.253333 81.237334 86.058667-79.232h-21.248c-9.386667-0.298667-16.938667-7.338667-17.28-16.085334-0.341333-9.173333 7.381333-16.896 17.28-17.237333h64.64z m-367.146667 240h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v72.192a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042667-16.042666v-72.192c0-8.874667 7.210667-16.042667 16.042667-16.042667z m110.805333-106.666667h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v178.858667a16.042667 16.042667 0 0 1-16.042667 16.042666h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042666v-178.858667c0-8.874667 7.168-16.042667 16.042666-16.042667z m106.538667 80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v99.413333a16.042667 16.042667 0 0 1-16.042667 16.042667H824.746667a16.042667 16.042667 0 0 1-16.042667-16.042667v-99.413333c0-8.874667 7.168-16.042667 16.042667-16.042667z m110.165333-80h48.128c8.874667 0 16.042667 7.168 16.042667 16.042667v179.413333a16.042667 16.042667 0 0 1-16.042667 16.042667h-48.128a16.042667 16.042667 0 0 1-16.042666-16.042667v-179.413333c0-8.874667 7.210667-16.042667 16.042666-16.042667z" fill="#999999" p-id="27238"></path></svg>
        <span id="busuanzi_value_page_pv"></span>
      </span>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#for%e8%ae%a1%e6%95%b0%e5%99%a8%e8%bf%ad%e4%bb%a3" aria-label="for计数器迭代">for计数器迭代</a><ul>
                            
                    <li>
                        <a href="#%e5%90%8c%e6%97%b6%e4%bd%bf%e7%94%a8%e5%a4%9a%e4%b8%aa%e8%ae%a1%e6%95%b0%e5%99%a8" aria-label="同时使用多个计数器">同时使用多个计数器</a></li>
                    <li>
                        <a href="#for" aria-label="for{}"><code>for{}</code></a></li>
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b" aria-label="使用示例">使用示例</a></li>
                    <li>
                        <a href="#%e5%88%a4%e6%96%ad%e4%b8%80%e4%b8%aa%e6%95%b0%e6%98%af%e5%90%a6%e6%98%af%e8%b4%a8%e6%95%b0" aria-label="判断一个数是否是质数">判断一个数是否是质数</a></li></ul>
                    </li>
                    <li>
                        <a href="#for-range" aria-label="for-range"><code>for-range</code></a><ul>
                            
                    <li>
                        <a href="#%e4%bd%bf%e7%94%a8%e7%a4%ba%e4%be%8b-1" aria-label="使用示例">使用示例</a></li>
                    <li>
                        <a href="#for-range%e4%bc%9a%e6%8b%b7%e8%b4%9d%e9%81%8d%e5%8e%86%e5%af%b9%e8%b1%a1" aria-label="for-range会拷贝遍历对象"><code>for-range</code>会拷贝遍历对象</a></li>
                    <li>
                        <a href="#for-range%e9%81%8d%e5%8e%86%e5%88%87%e7%89%87" aria-label="for-range遍历切片"><code>for-range</code>遍历切片</a></li>
                    <li>
                        <a href="#for-range%e9%81%8d%e5%8e%86%e5%ad%97%e7%ac%a6%e4%b8%b2" aria-label="for-range遍历字符串"><code>for-range</code>遍历字符串</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e6%b3%a8%e6%84%8f" aria-label="注意">注意</a></li>
                    <li>
                        <a href="#%e5%8f%82%e8%80%83" aria-label="参考">参考</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>
  <div class="post-content"><h2 id="for计数器迭代">for计数器迭代<a hidden class="anchor" aria-hidden="true" href="#for计数器迭代">#</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">初始化语句</span><span class="p">;</span> <span class="nx">条件语句</span><span class="p">;</span> <span class="nx">修饰语句</span> <span class="p">{}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>由三部分组成循环的头部，相互之间使用英文分号（<code>;</code>）隔开，但并不需要括号将它们括起来。</li>
<li>区别其他语言形式如【<code>for (初始化语句; 条件语句; 修饰语句) {}</code> 】其实使用括号包起来也可以。</li>
</ol>
<h3 id="同时使用多个计数器">同时使用多个计数器<a hidden class="anchor" aria-hidden="true" href="#同时使用多个计数器">#</a></h3>
<ol>
<li>这得益于<code>Go</code>语言具有平行赋值的特性。</li>
<li>区别总结：
<ul>
<li><code>for</code>关键字后面不需要括号。</li>
<li><strong>初始化语句</strong>和<strong>修饰语句</strong>可以使用平行赋值的特性。</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 注意这里的 【初始化语句】 和 【修饰语句】
</span></span></span><span class="line"><span class="cl"><span class="c1">// 初始化语句：i, j := 0, N
</span></span></span><span class="line"><span class="cl"><span class="c1">// 修饰语句：i, j = i+1, j-1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">j</span><span class="p">;</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="p">=</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nx">j</span><span class="o">-</span><span class="mi">1</span> <span class="p">{}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="for"><code>for{}</code><a hidden class="anchor" aria-hidden="true" href="#for">#</a></h3>
<ol>
<li>可以认为这是<strong>没有</strong>【初始化语句】和【修饰语句】的<code>for</code>结构，因此<code>;;</code>便是多余的了。</li>
<li>即使是条件语句也可以省略，如【<code>i: = 0; ;i++</code>】或【<code>for {} 或 for ;; {}</code>】多余的<code>;;</code>会在使用时移除，这些循环的本质就是无限循环。</li>
<li>也可以写成【<code>for true {}</code>】一般都是直接写成【<code>for {}</code>】。</li>
<li>如果<code>for</code>循环的头部没有条件语句，默认为<code>true</code>和<code>switch</code>没有表达式类似默认为<code>true</code>。
<ul>
<li>一般<code>Go</code>处理类似情况的常用法则，因此循环体内必须有相关的条件判断以确保会在某个时刻退出循环。</li>
</ul>
</li>
<li>区别总结：
<ul>
<li>【<code>for {}</code>】我们可以理解为【<code>for 条件语句 {}</code>】这种形式，省略了初始化语句和修饰语句，与其他语言【<code>while (true) {}</code>】用法类似。</li>
</ul>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">{}</span>  <span class="c1">// 等价于 for true {}
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="使用示例">使用示例<a hidden class="anchor" aria-hidden="true" href="#使用示例">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建[]int切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">a</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 交换切片首尾数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">j</span><span class="p">;</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span> <span class="p">=</span> <span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">=</span> <span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>  <span class="c1">// [6 5 4 3 2 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 多重循环满足条件退出    
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nx">i</span> <span class="p">&gt;</span> <span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [6 5 4 3 2 1]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1 2 3 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;abc&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 1) 常见的 for 循环，支持初始化语句
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%c\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1">// a
</span></span></span><span class="line"><span class="cl"><span class="c1">// b
</span></span></span><span class="line"><span class="cl"><span class="c1">// c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 2) 替代 while (n &gt; 0) {}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="nx">n</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="nx">n</span><span class="o">--</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1">// 99
</span></span></span><span class="line"><span class="cl"><span class="c1">// 98
</span></span></span><span class="line"><span class="cl"><span class="c1">// 97
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// 3) 替换 while (true) {} 或 for (;;) {}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1">// abc
</span></span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// [1, 2, 3, 5, 0, 0]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">numbers</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 1) for 循环
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">a</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">a</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">a</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a 的值为：%d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 2) for true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">a</span> <span class="p">&lt;</span> <span class="nx">b</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">a</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a 的值为：%d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 3) for range
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">x</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">numbers</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 %d 位 x 的值 = %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：7
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：8
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：9
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：7
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：8
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：9
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：11
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：12
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：13
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：14
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 的值为：15
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 0 位 x 的值 = 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 1 位 x 的值 = 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 2 位 x 的值 = 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 3 位 x 的值 = 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 4 位 x 的值 = 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 第 5 位 x 的值 = 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="判断一个数是否是质数">判断一个数是否是质数<a hidden class="anchor" aria-hidden="true" href="#判断一个数是否是质数">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;math&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="nb">uint64</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nf">isPrime</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d 是素数\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// isPrime 判断num是否是素数(质数) 素数只能被1和本身整除
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">isPrime</span><span class="p">(</span><span class="nx">num</span> <span class="kt">uint64</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 假设A是条件，B是结论
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//      由A可以推出B，由B可以推出A，则A是B的 (充要条件)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//      由A可以推出B，由B不可以推出A，则A是B的 (充分不必要条件)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//      由A不可以推出B，由B可以推出A，则A是B的 (必要不充分条件)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//      由A不可以推出B，由B不可以推出A，则A是B的 (既不充分也不必要条件)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="c1">// 大于等于5的质数一定和6的倍数相邻 (充分不必要条件)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//      与6的倍数相邻的数不一定是大于等于5的质数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 证明：(n &gt;= 1, n属于自然数)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 0	=&gt; 2*3*n	=&gt; 合数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 1   -----&gt; 可能是素数(7)，也可能是合数(25)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 2	=&gt; 2*(3n+1)	=&gt; 合数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 3	=&gt; 3*(2n+1)	=&gt; 合数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 4	=&gt; 2*(3n+2)	=&gt; 合数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 6n + 5   -----&gt; 可能是素数(11)，也可能是合数(35)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 上面的列表能表示所有&gt;=5的自然数，因此大于等于5的质数一定和6的倍数相邻
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="c1">// 5以下的质数分别为 2和3    
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="nx">num</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">||</span> <span class="nx">num</span> <span class="o">==</span> <span class="mi">3</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 大于等于5的质数一定和6的倍数相邻，相反不在6的倍数两侧的一定是合数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 这里排除了所有被2和3整除的合数，因此后面的for循环只需验证是否能被其他质数整除即可
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">!=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">!=</span> <span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 一个数能进行因式分解，那么分解时得到的两个数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 一定是一个小于等于 sqrt(n) 和 一个大于等于 sqrt(n)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 故遍历循环的次数就是sqrt(n)向上取整次数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">tmp</span> <span class="o">:=</span> <span class="nb">uint64</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Ceil</span><span class="p">(</span><span class="nx">math</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="nb">float64</span><span class="p">(</span><span class="nx">num</span><span class="p">))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 与6的倍数相邻的数不一定是大于等于5的质数(质数)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">i</span> <span class="kt">uint64</span> <span class="p">=</span> <span class="mi">5</span>    <span class="c1">// 这里i表示第一个素数5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 这里的i += 6包含所有当前num因式分解的所有公因式，也就是所有的素数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">tmp</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">6</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="c1">// i 和 i + 2 是6的倍数前后两个数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 判断num是否能因式分解，能进行因式分解则是合数，否则是素数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="nx">num</span> <span class="o">%</span> <span class="nx">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">num</span> <span class="o">%</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* Output:
</span></span></span><span class="line"><span class="cl"><span class="cm">2 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">3 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">5 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">7 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">11 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">13 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">17 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">19 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">23 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">29 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">31 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">37 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">41 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">43 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">47 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">53 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">59 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">61 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">67 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">71 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">73 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">79 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">83 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">89 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm">97 是素数
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="for-range"><code>for-range</code><a hidden class="anchor" aria-hidden="true" href="#for-range">#</a></h2>
<ol>
<li>【<code>for - range</code>】结构是<code>Go</code>语言特有的一种迭代结构，它在许多情况下都非常有用。</li>
<li>可以迭代任何一个集合，也包括<strong>数组</strong>(<code>array</code>)和<strong>字典</strong>(<code>map</code>)和<strong>字符串</strong>(<code>string</code>)和<strong>通道</strong>(<code>channel</code>)和<strong>切片</strong>(<code>slice</code>)，同时可以获得每次迭代所对应的索引和值。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ix：索引 val：值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="nx">ix</span><span class="p">,</span> <span class="nx">val</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">coll</span> <span class="p">{}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>如果只需要<code>range</code>里的索引值，可以只写<code>key</code>省略<code>value</code>。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">key</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">coll</span> <span class="p">{}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li><code>val</code>值始终为集合中对应索引的副本，因此它一般只具有只读性质。
<ul>
<li>对它所有的任何修改都不会影响到集合中原有的值。</li>
<li>如果<code>val</code>为指针，则会产生指针的副本，依旧可以修改集合中的原值。</li>
<li><code>range</code>遍历的也是副本。</li>
</ul>
</li>
<li><code>for</code>循环的<code>range</code>格式可以对<code>slice</code>、<code>map</code>、<code>array</code>、<code>string</code>、<code>chan</code>等进行迭代循环。
<ul>
<li><code>Golang</code>的<code>range</code>类似迭代器操作，返回【(<code>索引, 值</code>) 】或【(<code>键, 值</code>)】。</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">key</th>
<th style="text-align:center">value</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:center"><code>index</code> 是 <strong>int</strong> 类型</td>
<td style="text-align:center"><code>s[index]</code> 是 <strong>rune</strong> 类型</td>
<td style="text-align:center">字符串</td>
</tr>
<tr>
<td style="text-align:center"><code>array/slice</code></td>
<td style="text-align:center"><code>index </code> 是 <strong>int</strong> 类型</td>
<td style="text-align:center"><code>s[index]</code> 是存储的元素类型</td>
<td style="text-align:center">数组/切片</td>
</tr>
<tr>
<td style="text-align:center"><code>map</code></td>
<td style="text-align:center"><code>key</code></td>
<td style="text-align:center"><code>m[key] </code> 是<code>map</code>存储类型</td>
<td style="text-align:center">字典，遍历顺序是<strong>随机</strong>的</td>
</tr>
<tr>
<td style="text-align:center"><code>channel</code></td>
<td style="text-align:center"><code>element</code> 是<code>chan</code>存储类型</td>
<td style="text-align:center"></td>
<td style="text-align:center">通道</td>
</tr>
</tbody>
</table>
<ol start="6">
<li>可以忽略不想要的返回值，或使用<code>_</code>这个特殊变量。注意<code>_</code>是内置已经声明的，因此不能使用这种形式<code>_:=1</code>，不能使用<code>:=</code>应该使用<code>=</code>。</li>
</ol>
<h3 id="使用示例-1">使用示例<a hidden class="anchor" aria-hidden="true" href="#使用示例-1">#</a></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;abc&#34;</span>  <span class="c1">// range 变量字符串是按照Unicode遍历的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1) 忽略第二个参数, 支持 string/array/slice/map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span> <span class="c1">// 【int, rune】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d %c\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 a
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 1 b
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 2 c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 2) 忽略 第一个参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span> <span class="c1">// 【int, rune】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 97
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 98
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 99
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 3) 忽略全部返回值，仅迭代
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">n</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// s为字符串时，统计rune字符数量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span> <span class="c1">// 【int, rune】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">n</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">m</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">&#34;a&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#34;b&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 返回 (key, value)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 遍历map，顺序是随机的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m</span> <span class="p">{</span> <span class="c1">// 【string, int】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// b 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// a 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="for-range会拷贝遍历对象"><code>for-range</code>会拷贝遍历对象<a hidden class="anchor" aria-hidden="true" href="#for-range会拷贝遍历对象">#</a></h3>
<ol>
<li>注意下面的代码<code>range</code>复制了<code>a</code>对象数据所以输出结果和预期的不同。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;unsafe&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 数组布局 内存中连续分配
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 地址 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25	字节B
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     |&lt;---a[0]----&gt;| |&lt;-------a[1]------&gt;|  |&lt;--------a[2]------&gt;|
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 查看a的内存占用大小 int 在64位系统下占8字节 3*8 = 24字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nf">Sizeof</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span>   <span class="c1">// 24
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// index、value 都是从复制品中取出
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">a</span> <span class="p">{</span> <span class="c1">// 【int, int】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 在修改前，我们先修改原数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="nx">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">999</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 确认修改有效，输出[0, 999, 999]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>  <span class="c1">// [0 999 999]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 使用复制品中取出的 value 修改原数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">v</span> <span class="o">+</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 注意这里的输出
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>  <span class="c1">// [100 101 102]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 24
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [0 999 999]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [100 101 102]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="for-range遍历切片"><code>for-range</code>遍历切片<a hidden class="anchor" aria-hidden="true" href="#for-range遍历切片">#</a></h3>
<ol>
<li>改用引用类型，其底层数据不会被复制，注意下面代码。</li>
<li>另外两种引用类型<code>map</code>、<code>channel</code>是指针包装，而不像<code>slice</code>是<code>struct</code>。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 布局 type slice struct { pointer, len, cap }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// slice           pointer             len             cap
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//                    |                 5               5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//                    v
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// array              0 1 2 3 4 5 ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 假设以下切片的结构如下struct {0x01f00, 5, 5}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">s</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// range遍历切片，复制结构体struct {0x01f00, 5, 5}用于遍历
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 遍历时指向pointer指针移动获取数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span> <span class="c1">// 【int, int】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="nx">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// 修改s的切片结构为struct {0x01f00, 3, 5}，而复制的副本不变struct {0x01f00, 5, 5}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">s</span> <span class="p">=</span> <span class="nx">s</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>   <span class="c1">// [low:high:max]   len=high-low、cap=max-low
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// 修改[0x01f00+2*8,0x01f00+3*8)地址位置从3修改为100
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 0 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 1 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 2 100
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 3 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 4 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// [1 2 100]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="for-range遍历字符串"><code>for-range</code>遍历字符串<a hidden class="anchor" aria-hidden="true" href="#for-range遍历字符串">#</a></h3>
<ol>
<li>字符串是<code>Unicode</code>编码的字符集合使用<code>for-range</code>结构迭代字符串。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">pos</span><span class="p">,</span> <span class="nx">char</span> <span class="o">:=</span> <span class="k">range</span> <span class="s">&#34;语言\x80雨&#34;</span> <span class="p">{</span> <span class="c1">// 【int, rune】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d character %#U starts at byte position %d\n&#34;</span><span class="p">,</span> <span class="nx">char</span><span class="p">,</span> <span class="nx">char</span><span class="p">,</span> <span class="nx">pos</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Output:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 35821 character U+8BED &#39;语&#39; starts at byte position 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 35328 character U+8A00 &#39;言&#39; starts at byte position 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 65533 character U+FFFD &#39;�&#39; starts at byte position 6
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 38632 character U+96E8 &#39;雨&#39; starts at byte position 7
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="注意">注意<a hidden class="anchor" aria-hidden="true" href="#注意">#</a></h2>
<ol>
<li>遍历切片：下面程序上有没有可优化的空间？</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">rangeTest</span><span class="p">(</span><span class="nx">slice</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">slice</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解析：使用 range 遍历，每次迭代会对 index,value 进行赋值，若数据很大或 value 类型为 string 时，对 value 的赋值操作可以进行优化，即忽略 value 值，使用 slice[index] 来获取 value 的值。</li>
<li>解析：使用 range 遍历，每次迭代会对 index,value 进行赋值，若数据很大或 value 类型为 string 时，对 value 的赋值操作可以进行优化，即忽略 value 值，使用 slice[index] 来获取 value 的值。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">rangeTest</span><span class="p">(</span><span class="nx">slice</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">slice</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">slice</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>动态遍历：下面程序上能否正常结束？</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">v</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 我们知道range遍历的是v的副本，也就是 v1 := v 遍历的是v1 所以下面只会循环3次
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">v</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">v</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="c1">// [1 2 3 0 1 2]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 最后变量完 v = []int{1,2,3,0,1,2}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解析：会正常结束。循环内再改变切片的长度，不影响循环次数，循环次数在循环开始前就已经是确定了的。</li>
</ul>
<ol start="3">
<li>遍历Map：下面程序上有没有可优化的空间？</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">rangeTest</span><span class="p">(</span><span class="nx">mapTest</span> <span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">mapTest</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">mapTest</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解析：使用 range 遍历，根据第一题经验，我们根据 key 值来获取value 的值，看似减少了一次赋值，但使用 mapTest[key] 来获取 value 值的性能消耗可能高于赋值消耗。能否优化取决于 map 所存储数据结构特征，应结合实际情况进行。</li>
<li>我们知道mapTest[key]的取值是一个非常复杂的函数调用，mapTest[key]的使用反而会增加负担。</li>
</ul>
<h2 id="参考">参考<a hidden class="anchor" aria-hidden="true" href="#参考">#</a></h2>
<ol>
<li><a href="https://cloud.tencent.com/developer/article/1876243?from=article.detail.1876231" target="_blank" rel="noopener">range 实现原理</a></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://heliu.site/tags/golang/">Golang</a></li>
      <li><a href="https://heliu.site/tags/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">流程控制</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://heliu.site/posts/golang/process/if/">
    <span class="title">« 上一页</span>
    <br>
    <span>流程控制(条件语句)</span>
  </a>
  <a class="next" href="https://heliu.site/posts/golang/process/range/">
    <span class="title">下一页 »</span>
    <br>
    <span>流程控制(range迭代)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    
    <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
    </span>
    <span id="busuanzi_container_site_uv">
        本站访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
    </div>
        <span>Copyright © 2020-2024 <a href="#">heliu's blog</a>. All rights reserved</span>  
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Done';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
